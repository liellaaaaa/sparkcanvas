# SparkCanvas需求分析文档

## 一、项目概述

### 1.1 核心定位

本项目聚焦 **To C 赛道**（小红书/抖音平台），打造以"流量爆破"为核心的自媒体全自动生产系统。

**核心竞争力：**
- **情绪价值传递：** 精准匹配用户情绪偏好，激发互动行为
- **视觉吸引力：** 高清精美配图，符合平台视觉审美
- **高点击转化：** 优化标题与内容结构，提升曝光与转化率

**产品定位：** 为用户提供可直接发布的爆款内容，区别于深度洞察类产品，更侧重内容的传播性与用户情绪共鸣。

### 1.2 目标用户

- 小红书/抖音内容创作者
- 自媒体运营人员
- 需要高频产出优质内容的团队

### 1.3 核心价值

- **解决素材难找痛点：** 通过智能联网狩猎，自动抓取平台热点素材
- **解决内容同质化痛点：** 模仿大 V 文风，生成情绪饱满的原创内容
- **解决有文无图痛点：** 自动生成精美配图，完成可视化排版
- **提升生产效率：** 全流程自动化，降低人工干预，满足高频更新需求

---

## 二、核心需求（KPI导向）

### 2.1 情绪价值拉满

**目标：** 内容需精准匹配小红书/抖音用户情绪偏好，激发用户互动行为。

**具体要求：**
- 内容需涵盖治愈、共鸣、趣味、新鲜感等强情绪点
- 精准匹配目标平台用户情绪偏好
- 激发用户点赞、评论、转发等互动行为
- 通过情绪价值传递提升内容传播力

**衡量标准：**
- 内容情绪点覆盖度 ≥ 3 种（治愈/共鸣/趣味/新鲜感）
- 用户互动率提升 ≥ 20%

### 2.2 配图必须精美

**目标：** 生成高清、风格统一、与内容高度契合的配图。

**具体要求：**
- 生成图片需高清、风格统一
- 与内容高度契合，符合平台视觉审美
- 满足"一眼吸睛"的传播需求
- 支持多图备选，确保配图质量

**衡量标准：**
- 图片分辨率 ≥ 1080P
- 风格统一度 ≥ 90%
- 内容匹配度 ≥ 85%

### 2.3 标题点击率预测 > 90分

**目标：** 标题需贴合 To C 平台用户点击心理，提升曝光率。

**具体要求：**
- 标题需贴合 To C 平台用户点击心理
- 通过优化逻辑提升曝光率
- 搭配"自我反思"机制保障标题质量
- 自动生成多版标题并筛选最优方案

**衡量标准：**
- 标题点击率预测分数 ≥ 90 分
- 标题生成版本数 ≥ 5 个
- 自动筛选最优方案准确率 ≥ 80%

---

## 三、功能需求
为便于排期，使用优先级标注：高=直接支撑三大KPI与闭环；中=增强体验与扩展；低=规划预研。按优先级高→中排序，并按模块合并为段落。

### 3.1 工作台（memory） [优先级：高🔥]

**功能描述：** 一键式生产工作台，结合 memory 管理上下文，完成“联网/检索 → 标题优化 → 文风与情绪强化 → 结构化生成 → 配图与排版 → 输出解析”，用户可选择素材源、上传素材/文档，支持再次修改与重生成，提供实时预览与轻量编辑。

**核心能力：**
- 上下文记忆：多轮对话与历史消息记忆，支持意图澄清、偏好继承。
- 素材源选择与上传：用户可选择素材来源（联网检索/RAG 知识库/本地上传），上传或导入文档/链接，支持重选后重新生成。
- 联网检索与 RAG 增强：热点抓取、网页爬取、素材库语义检索，输入拼接到生成链路。
- 标题智能优化：≥5 版生成 + 自我反思打分，筛选点击率预测 ≥90 分标题。
- 文风/情绪/结构：大 V 风格模仿，情绪强化（治愈/共鸣/趣味等），爆款三段式结构（吸睛-传值-互动引导）。
- 视觉交付：自动配图（≥1080P，多图备选）、平台格式适配（小红书/抖音封面），排版预览。
- 输出解析与编排：结构化输出（JSON/Markdown），全流程编排与监控、异常重试。
- 版本迭代与重生成：支持修改素材/偏好后快速重生成，保留上下文记忆与历史版本。

### 3.2 路由模块 [优先级：中⚡]

**功能描述：** 统一前后端路由与 API 分发，支持动态配置、权限拦截与限流，保障各模块解耦可扩展。

### 3.3 登录注册模块 [优先级：中⚡]

**功能描述：** 邮箱/手机号注册登录与验证码校验，提供基础鉴权态，供对话、RAG、历史记录等模块复用。

### 3.4 历史记录模块 [优先级：中⚡]

**功能描述：** 草稿/已发布内容与对话历史的集中管理，支持状态跟踪、版本对比与继续编辑，统计爆款率与互动率。

### 3.5 RAG 知识库模块 [优先级：中⚡]

**功能描述：** 支持多格式文档上传、智能分块、向量化存储与语义检索，提供容量/成本监控，为对话与生成链路供稿。

### 3.6 Prompt 模块 [优先级：中⚡]

**功能描述：** 预设/自定义 Prompt 管理与快速测试，涵盖文风、情绪、结构模板，支持版本管理与评分反馈，保障生成的一致性与情绪拉满。

### 3.7 数据清洗模块（待定） [优先级：低🧪]

**功能描述：** 对采集素材进行去重、质量过滤与格式标准化，提供情感分析/热点识别等预处理，为 RAG 与生成链路供高质数据。规划阶段，落地方案待验证。

---

## 四、技术支撑需求

### 4.1 核心技术栈

#### 4.1.1 素材抓取技术
- **LangChain Agents：** 实现自主决策与任务执行
- **Tavily Search Tools：** 实时热点搜索
- **Web Scraping：** 定向网页爬取

#### 4.1.2 内容生成技术
- **RAG 风格库：** 大 V 文风学习与复刻
- **Few-Shot 技术：** 风格迁移与模仿
- **Prompt Engineering：** 情绪价值优化
- **CoT 技术：** 结构化内容生成

#### 4.1.3 视觉交付技术
- **DALL·E 3 API：** AI 图片生成
- **Streamlit Web UI：** 可视化界面与排版

#### 4.1.4 存储检索技术
- **VectorStore（Chroma）：** 向量存储与语义检索

### 4.2 技术优化方向

- **素材抓取：** 提升实时性与精准度，减少无效数据
- **文风还原：** 强化大 V 文风还原度，提升风格相似度
- **配图匹配：** 保障配图与内容匹配度，提升视觉吸引力
- **标题优化：** 优化标题打分模型，适配平台偏好

---

## 五、用户体验需求

### 5.1 易用性

**目标：** 降低操作门槛，提升使用效率。

**具体要求：**
- Web UI 界面简洁，布局清晰
- 支持一键启动生产，无需复杂配置
- 内容预览功能，实时查看生成结果
- 参数调整（文风偏向、情绪强度等）简单直观

### 5.2 实用性

**目标：** 生成内容可直接使用，无需二次处理。

**具体要求：**
- 生成内容格式直接适配平台发布要求
- 无需二次排版，可直接复制粘贴
- 满足高频更新需求，支持批量生产
- 内容质量稳定，减少人工审核成本

### 5.3 差异化

**目标：** 突出产品核心优势，形成市场竞争力。

**具体要求：**
- 突出情绪价值与视觉优势
- 形成与同类工具的核心差异
- 保障流量转化能力
- 持续优化用户体验

---

## 六、实施原则

### 6.1 KPI 优先原则

所有功能开发需围绕三大核心 KPI 展开：
- 情绪价值拉满
- 配图必须精美
- 标题点击率预测 > 90 分

### 6.2 自动化优先原则

减少人工干预，实现全流程自动化生产，提升效率与稳定性。

### 6.3 平台适配原则

所有输出需直接适配小红书/抖音平台发布格式，确保内容可直接使用。

### 6.4 质量保障原则

通过"自我反思"机制、多版生成筛选等方式保障内容质量，建立质量评估体系。

### 6.5 用户体验原则

界面简洁、操作便捷、结果实用，持续优化用户体验。

---

## 七、项目里程碑

### 7.1 第一阶段：核心功能开发（高优）
- 路由转发与用户认证打底
- 智能内容创作工作台（memory，含素材源选择/上传、文风/情绪/结构生成）
- 素材获取链路（联网狩猎+爬取+素材库）
- 标题智能优化 MVP
- 基础 Web UI 预览

### 7.2 第二阶段：优化与完善（中优）
- 视觉交付（AI 配图 + 视觉适配 + 排版整合）
- 内容草稿箱与版本管理
- RAG 知识库与 Prompt 实验室落地
- UI/体验优化，性能与交互提速

### 7.3 第三阶段：全流程整合（高优）
- 全流程自动化编排与监控
- 输出解析适配、质量保障与反思机制强化
- 数据清洗模块试点
- 发布前合规/风控校验与 A/B 测试闭环

---

## 八、风险评估

### 8.1 技术风险
- API 调用限制与成本控制
- 内容质量稳定性保障
- 平台规则变化应对

### 8.2 业务风险
- 内容同质化问题
- 平台审核机制变化
- 用户需求变化

### 8.3 应对策略
- 建立多版本备选方案
- 持续监控与优化
- 灵活调整产品策略

---

## 九、成功标准

### 9.1 功能完整性
- 所有核心功能正常实现
- 全流程自动化运行稳定
- 质量保障机制有效

### 9.2 性能指标
- 内容生成时间 ≤ 3 分钟
- 标题点击率预测准确率 ≥ 80%
- 配图匹配度 ≥ 85%

### 9.3 用户体验
- 用户满意度 ≥ 85%
- 操作便捷性评分 ≥ 4.5/5
- 内容质量评分 ≥ 4.0/5