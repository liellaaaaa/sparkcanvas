if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}const a=((t,a=0)=>(a,l=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,a,l)})("onLoad",2),l=15e3,o="access_token",n="user_info",s="http://47.83.142.3:8000",r=e=>new Promise(((a,r)=>{const i=(e=>{const t=uni.getStorageSync(o);return t&&(e.header={...e.header,Authorization:`Bearer ${t}`}),e.header={"Content-Type":"application/json",...e.header},e})({url:s+e.url,method:e.method||"GET",data:e.data,header:e.header||{},timeout:e.timeout||l});if(["POST","PUT","DELETE","PATCH"].includes(i.method.toUpperCase())&&i.data&&"string"==typeof i.data)try{i.data=JSON.parse(i.data)}catch(c){}t("log","at utils/http.js:106","å‘é€è¯·æ±‚:",{url:i.url,method:i.method,data:i.data,header:i.header,timeout:i.timeout}),uni.request({url:i.url,method:i.method,data:i.data,header:i.header,timeout:i.timeout,dataType:"json",success:e=>{t("log","at utils/http.js:122","è¯·æ±‚æˆåŠŸ:",{statusCode:e.statusCode,data:e.data}),(e=>{const{statusCode:t,data:a}=e;if(200===t){if(a&&"object"==typeof a){if("code"in a){if(200===a.code)return Promise.resolve(a);{const e=a.message||a.error||"è¯·æ±‚å¤±è´¥";return Promise.reject(new Error(e))}}return Promise.resolve(a)}return Promise.resolve(a)}if(400===t){const e=(null==a?void 0:a.detail)||(null==a?void 0:a.message)||"è¯·æ±‚å‚æ•°é”™è¯¯";return Promise.reject(new Error(e))}return 401===t?(uni.removeStorageSync(o),uni.removeStorageSync(n),uni.reLaunch({url:"/pages/login/login"}),Promise.reject(new Error("ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"))):403===t?Promise.reject(new Error((null==a?void 0:a.detail)||"æ— æƒé™è®¿é—®")):500===t?Promise.reject(new Error((null==a?void 0:a.detail)||"æœåŠ¡å™¨é”™è¯¯")):Promise.reject(new Error((null==a?void 0:a.detail)||`è¯·æ±‚å¤±è´¥: ${t}`))})(e).then(a).catch(r)},fail:e=>{t("error","at utils/http.js:131","è¯·æ±‚å¤±è´¥:",e),t("error","at utils/http.js:132","è¯·æ±‚é…ç½®:",{url:i.url,method:i.method,timeout:i.timeout});let a=e.errMsg||"ç½‘ç»œè¯·æ±‚å¤±è´¥";a.includes("timeout")?a=`è¯·æ±‚è¶…æ—¶ï¼ˆ${i.timeout}msï¼‰ï¼Œè¯·æ£€æŸ¥ï¼š\n1. åç«¯æœåŠ¡æ˜¯å¦å·²å¯åŠ¨ï¼ˆè®¿é—® http://localhost:8000/health æµ‹è¯•ï¼‰\n2. åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ\n3. æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸\n4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰CORSé”™è¯¯`:(a.includes("fail")||a.includes("connect"))&&(a=`æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨ï¼ˆ${i.url}ï¼‰ï¼Œè¯·æ£€æŸ¥ï¼š\n1. åç«¯æœåŠ¡æ˜¯å¦å·²å¯åŠ¨\n2. åç«¯æœåŠ¡æ˜¯å¦ç›‘å¬åœ¨æ­£ç¡®çš„åœ°å€å’Œç«¯å£\n3. é˜²ç«å¢™æ˜¯å¦é˜»æ­¢äº†è¿æ¥\n4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰CORSé”™è¯¯`),r(new Error(a))}})})),i=e=>r({url:`/auth/code?email=${encodeURIComponent(e)}`,method:"GET"}),c=e=>r({url:"/auth/register",method:"POST",data:e}),u=e=>r({url:"/auth/login",method:"POST",data:e,timeout:15e3}),d=()=>r({url:"/api/v1/workspace/create-session",method:"POST",timeout:1e4}),m=e=>r({url:"/api/v1/workspace/send-message",method:"POST",data:e,timeout:12e4}),v=e=>r({url:`/api/v1/workspace/session/${e}`,method:"GET",timeout:1e4}),p=e=>r({url:"/api/v1/workspace/regenerate",method:"POST",data:e,timeout:12e4}),g=e=>{const t=Object.keys(e||{}).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&");return r({url:"/api/v1/history/conversations"+(t?"?"+t:""),method:"GET"})},h=e=>{const t=Object.keys(e||{}).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&");return r({url:"/api/v1/history/search"+(t?"?"+t:""),method:"GET"})},w=e=>r({url:"/api/v1/history/delete",method:"DELETE",data:e}),y=e=>new Promise(((t,a)=>{const l=uni.getStorageSync(o);uni.uploadFile({url:s+"/api/v1/rag/upload",filePath:e,name:"file",header:{Authorization:l?`Bearer ${l}`:""},success:e=>{if(200===e.statusCode)try{const l=JSON.parse(e.data);200===l.code?t(l):a(new Error(l.message||l.detail||"ä¸Šä¼ å¤±è´¥"))}catch(l){a(new Error("å“åº”è§£æå¤±è´¥"))}else if(401===e.statusCode)uni.removeStorageSync(o),uni.removeStorageSync(n),uni.reLaunch({url:"/pages/login/login"}),a(new Error("ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"));else try{const t=JSON.parse(e.data);a(new Error(t.detail||t.message||`ä¸Šä¼ å¤±è´¥: ${e.statusCode}`))}catch(l){a(new Error(`ä¸Šä¼ å¤±è´¥: ${e.statusCode}`))}},fail:e=>{a(new Error(e.errMsg||"ä¸Šä¼ å¤±è´¥"))}})})),E=e=>r({url:"/api/v1/rag/delete",method:"DELETE",data:{document_id:e}}),k=e=>{const t=Object.keys(e||{}).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&");return r({url:"/api/v1/rag/list"+(t?"?"+t:""),method:"GET"})},f=e=>r({url:"/api/v1/rag/search",method:"POST",data:e}),V=(e,t)=>{const a=e.__vccOpts||e;for(const[l,o]of t)a[l]=o;return a},N=V({__name:"workspace",setup(l){const o=[{label:"å°çº¢ä¹¦",value:"xiaohongshu"},{label:"æŠ–éŸ³",value:"douyin"}],n=[{label:"è”ç½‘æ£€ç´¢",value:"online"},{label:"RAGçŸ¥è¯†åº“",value:"rag"}],s=e.ref(""),r=e.ref({}),i=e.ref("xiaohongshu"),c=e.ref("online"),u=e.ref(""),g=e.ref(!1),h=e.ref(!1),w=e.ref(!1),y=e.ref(""),E=e.ref(""),k=e.ref(""),f=e.ref(""),V=e.ref(""),N=e.computed((()=>E.value?E.value.split("\n"):[])),b=e=>{if(!e)return"";const t=new Date(e);return`${t.getMonth()+1}/${t.getDate()} ${t.getHours()}:${String(t.getMinutes()).padStart(2,"0")}`},T=async()=>{var e,a,l;try{g.value=!0;const t=await d();s.value=(null==(e=null==t?void 0:t.data)?void 0:e.session_id)||"",s.value&&(r.value={created_at:null==(a=null==t?void 0:t.data)?void 0:a.created_at,expires_at:null==(l=null==t?void 0:t.data)?void 0:l.expires_at,message_count:0})}catch(o){t("error","at pages/workspace/workspace.vue:179","åˆ›å»ºå·¥ä½œå°ä¼šè¯å¤±è´¥:",o),uni.showToast({title:(null==o?void 0:o.message)||"åˆ›å»ºä¼šè¯å¤±è´¥",icon:"none"})}finally{g.value=!1}},x=async()=>{w.value=!1,y.value="",E.value="",k.value="",u.value="",await T(),uni.showToast({title:"å·²åˆ›å»ºæ–°ä¼šè¯",icon:"success"})},C=async()=>{if(s.value)try{const e=await v(s.value);(null==e?void 0:e.data)&&(r.value=e.data)}catch(e){t("error","at pages/workspace/workspace.vue:205","è·å–ä¼šè¯ä¿¡æ¯å¤±è´¥:",e),uni.showToast({title:(null==e?void 0:e.message)||"è·å–ä¼šè¯ä¿¡æ¯å¤±è´¥",icon:"none"})}},_=async()=>{var e,a,l;if(u.value.trim()&&(s.value||(await T(),s.value)))try{g.value=!0;const t={session_id:s.value,message:u.value,material_source:c.value,platform:i.value},o=await m(t),n=null==(e=null==o?void 0:o.data)?void 0:e.content;n?(y.value=n.title||"",E.value=n.body||"",k.value=n.image_url||"",f.value=(null==(a=null==o?void 0:o.data)?void 0:a.status)||"completed",V.value=b(null==(l=null==o?void 0:o.data)?void 0:l.timestamp),w.value=!0,await C()):uni.showToast({title:"åç«¯æœªè¿”å›å†…å®¹",icon:"none"})}catch(o){t("error","at pages/workspace/workspace.vue:241","å‘é€æ¶ˆæ¯å¤±è´¥:",o),uni.showToast({title:(null==o?void 0:o.message)||"ç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",icon:"none"})}finally{g.value=!1}},B=async()=>{var e,a,l;if(s.value)try{h.value=!0;const t={session_id:s.value,adjustments:{emotion_intensity:"high",style_preference:"xiaohongshu"===i.value?"å°çº¢ä¹¦çˆ†æ¬¾":"æŠ–éŸ³çƒ­é—¨"}},o=await p(t),n=null==(e=null==o?void 0:o.data)?void 0:e.content;n&&(y.value=n.title||"",E.value=n.body||"",k.value=n.image_url||"",f.value=(null==(a=null==o?void 0:o.data)?void 0:a.status)||"completed",V.value=b(null==(l=null==o?void 0:o.data)?void 0:l.timestamp),await C(),uni.showToast({title:"é‡æ–°ç”Ÿæˆå®Œæˆ",icon:"success"}))}catch(o){t("error","at pages/workspace/workspace.vue:273","é‡æ–°ç”Ÿæˆå¤±è´¥:",o),uni.showToast({title:(null==o?void 0:o.message)||"é‡æ–°ç”Ÿæˆå¤±è´¥",icon:"none"})}finally{h.value=!1}},S=()=>{let e="";y.value&&(e+=y.value+"\n\n"),E.value&&(e+=E.value),e.trim()?uni.setClipboardData({data:e,success:()=>{uni.showToast({title:"å¤åˆ¶æˆåŠŸ",icon:"success",duration:1500})},fail:e=>{t("error","at pages/workspace/workspace.vue:308","å¤åˆ¶å¤±è´¥:",e),uni.showToast({title:"å¤åˆ¶å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",icon:"none"})}}):uni.showToast({title:"å†…å®¹ä¸ºç©ºï¼Œæ— æ³•å¤åˆ¶",icon:"none"})};return a((async()=>{await T()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"workspace-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"âœ¨ SparkCanvas å·¥ä½œå°"),e.createElementVNode("text",{class:"subtitle"},"ä¸€é”®ç”Ÿæˆçˆ†æ¬¾å†…å®¹")]),s.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"session-card card"},[e.createElementVNode("view",{class:"session-header"},[e.createElementVNode("text",{class:"session-label"},"å½“å‰ä¼šè¯"),e.createElementVNode("text",{class:"session-id"},e.toDisplayString(s.value.slice(0,8))+"...",1)]),e.createElementVNode("view",{class:"session-meta"},[e.createElementVNode("text",null,"æ¶ˆæ¯æ•°: "+e.toDisplayString(r.value.message_count||0),1),r.value.last_message_time?(e.openBlock(),e.createElementBlock("text",{key:0},"æœ€åæ¶ˆæ¯: "+e.toDisplayString(b(r.value.last_message_time)),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"session-actions"},[e.createElementVNode("button",{class:"btn btn-small btn-outline",onClick:C},"åˆ·æ–°çŠ¶æ€"),e.createElementVNode("button",{class:"btn btn-small btn-outline",onClick:x},"æ–°å»ºä¼šè¯")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"content-card card"},[e.createElementVNode("view",{class:"card-title"},"ğŸ“ å†…å®¹åˆ›ä½œ"),e.createElementVNode("view",{class:"field-row"},[e.createElementVNode("view",{class:"field-label"},"ç›®æ ‡å¹³å°"),e.createElementVNode("view",{class:"field-value tags-row"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(o,(t=>e.createElementVNode("text",{key:t.value,class:e.normalizeClass(["tag",i.value===t.value?"tag-primary":"tag-default"]),onClick:e=>i.value=t.value},e.toDisplayString(t.label),11,["onClick"]))),64))])]),e.createElementVNode("view",{class:"field-row"},[e.createElementVNode("view",{class:"field-label"},"ç´ ææ¥æº"),e.createElementVNode("view",{class:"field-value tags-row"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(n,(t=>e.createElementVNode("text",{key:t.value,class:e.normalizeClass(["tag",c.value===t.value?"tag-primary":"tag-default"]),onClick:e=>c.value=t.value},e.toDisplayString(t.label),11,["onClick"]))),64))])]),e.createElementVNode("view",{class:"field-row column"},[e.createElementVNode("view",{class:"field-label"},"åˆ›ä½œéœ€æ±‚"),e.withDirectives(e.createElementVNode("textarea",{class:"input-area","onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),placeholder:"ä¾‹å¦‚ï¼šå¸®æˆ‘å†™ä¸€ç¯‡å…³äºæå‡å°çº¢ä¹¦ç¬”è®°çˆ†æ¬¾ç‡çš„å¿ƒå¾—åˆ†äº«","auto-height":!0,maxlength:"-1"},null,512),[[e.vModelText,u.value]])]),e.createElementVNode("view",{class:"actions-row"},[w.value?(e.openBlock(),e.createElementBlock("button",{key:0,class:"btn btn-secondary",loading:h.value,disabled:h.value,onClick:B},e.toDisplayString(h.value?"é‡æ–°ç”Ÿæˆä¸­...":"ğŸ”„ é‡æ–°ç”Ÿæˆ"),9,["loading","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"btn btn-primary",disabled:g.value||!u.value.trim(),onClick:_}," ç”Ÿæˆå†…å®¹ ",8,["disabled"])]),w.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"result-card"},[e.createElementVNode("view",{class:"result-header"},[e.createElementVNode("text",{class:"result-label"},"ç”Ÿæˆç»“æœ"),e.createElementVNode("view",{class:"result-actions"},["completed"===f.value?(e.openBlock(),e.createElementBlock("text",{key:0,class:"result-status"},"ç”Ÿæˆå®Œæ¯•")):e.createCommentVNode("",!0),"completed"===f.value?(e.openBlock(),e.createElementBlock("button",{key:1,class:"btn-copy",onClick:S}," å¤åˆ¶ ")):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"result-title"},e.toDisplayString(y.value),1),e.createElementVNode("view",{class:"result-body"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.value,((t,a)=>(e.openBlock(),e.createElementBlock("text",{key:a},e.toDisplayString(t)+e.toDisplayString(a<N.value.length-1?"\n":""),1)))),128))]),k.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"result-image"},[e.createElementVNode("image",{src:k.value,mode:"widthFix"},null,8,["src"])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"result-meta"},[e.createElementVNode("text",null,"ç”Ÿæˆæ—¶é—´: "+e.toDisplayString(V.value),1)])])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"placeholder"},[e.createElementVNode("text",null,"é€‰æ‹©å¹³å°å’Œç´ ææ¥æºï¼Œè¾“å…¥åˆ›ä½œéœ€æ±‚ï¼Œç‚¹å‡»ç”ŸæˆæŒ‰é’®å¼€å§‹åˆ›ä½œã€‚")]))])]))}},[["__scopeId","data-v-7bea7ddf"]]),b={set(e,a){try{return uni.setStorageSync(e,a),!0}catch(l){return t("error","at utils/storage.js:13","å­˜å‚¨å¤±è´¥:",l),!1}},get(e,a=null){try{const t=uni.getStorageSync(e);return""!==t?t:a}catch(l){return t("error","at utils/storage.js:24","è¯»å–å­˜å‚¨å¤±è´¥:",l),a}},remove(e){try{return uni.removeStorageSync(e),!0}catch(a){return t("error","at utils/storage.js:35","åˆ é™¤å­˜å‚¨å¤±è´¥:",a),!1}},clear(){try{return uni.clearStorageSync(),!0}catch(e){return t("error","at utils/storage.js:46","æ¸…ç©ºå­˜å‚¨å¤±è´¥:",e),!1}},setToken(e){return this.set("access_token",e)},getToken(){return this.get("access_token")},removeToken(){return this.remove("access_token")},setUserInfo(e){return this.set("user_info",e)},getUserInfo(){return this.get("user_info")},removeUserInfo(){return this.remove("user_info")}},T=V({__name:"login",setup(a){const l=e.reactive({email:"",password:""}),o=e.ref(!1),n=async()=>{var e;if(l.email.trim())if(e=l.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))if(l.password.trim())if(l.password.length<6)uni.showToast({title:"å¯†ç é•¿åº¦è‡³å°‘6ä½",icon:"none"});else{o.value=!0,uni.showLoading({title:"ç™»å½•ä¸­..."});try{const e=await u({email:l.email.trim(),password:l.password});b.setToken(e.token),b.setUserInfo(e.user),uni.showToast({title:"ç™»å½•æˆåŠŸ",icon:"success"}),setTimeout((()=>{uni.switchTab({url:"/pages/workspace/workspace"})}),1500)}catch(a){t("error","at pages/login/login.vue:113","ç™»å½•å¤±è´¥:",a);let e=a.message||"ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥é‚®ç®±å’Œå¯†ç ";e.includes("è¶…æ—¶")||e.includes("è¿æ¥")?uni.showModal({title:"è¿æ¥å¤±è´¥",content:e+"\n\nè¯·æ£€æŸ¥ï¼š\n1. åç«¯æœåŠ¡æ˜¯å¦å·²å¯åŠ¨ï¼ˆè¿è¡Œ python spark-backend/main.pyï¼‰\n2. è®¿é—® http://localhost:8000/health æµ‹è¯•åç«¯æ˜¯å¦æ­£å¸¸\n3. æ£€æŸ¥åç«¯æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯",showCancel:!1,confirmText:"æˆ‘çŸ¥é“äº†"}):uni.showToast({title:e,icon:"none",duration:3e3})}finally{o.value=!1,uni.hideLoading()}}else uni.showToast({title:"è¯·è¾“å…¥å¯†ç ",icon:"none"});else uni.showToast({title:"è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±æ ¼å¼",icon:"none"});else uni.showToast({title:"è¯·è¾“å…¥é‚®ç®±",icon:"none"})},s=()=>{uni.navigateTo({url:"/pages/register/register"})};return(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"login-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"æ¬¢è¿ä½¿ç”¨ SparkCanvas"),e.createElementVNode("text",{class:"subtitle"},"AIå†…å®¹åˆ›ä½œå¹³å°")]),e.createElementVNode("view",{class:"login-card card"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"é‚®ç®±"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>l.email=e),class:"input",placeholder:"è¯·è¾“å…¥é‚®ç®±","placeholder-class":"placeholder",type:"text"},null,512),[[e.vModelText,l.email]])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"å¯†ç "),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>l.password=e),class:"input",placeholder:"è¯·è¾“å…¥å¯†ç ","placeholder-class":"placeholder",type:"password"},null,512),[[e.vModelText,l.password]])]),e.createElementVNode("button",{class:"btn login-btn",onClick:n,loading:o.value},e.toDisplayString(o.value?"ç™»å½•ä¸­...":"ç™»å½•"),9,["loading"]),e.createElementVNode("view",{class:"footer-links"},[e.createElementVNode("text",{class:"link",onClick:s},"è¿˜æ²¡æœ‰è´¦å·ï¼Ÿç«‹å³æ³¨å†Œ")])])]))}},[["__scopeId","data-v-8402d347"]]),x=V({__name:"register",setup(a){const l=e.reactive({username:"",email:"",verifyCode:"",password:"",confirmPassword:""}),o=e.ref(!1),n=e.ref(0);let s=null;const r=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),d=async()=>{if(l.email.trim())if(r(l.email)){if(!(n.value>0))try{uni.showLoading({title:"å‘é€ä¸­..."}),await i(l.email.trim()),uni.showToast({title:"éªŒè¯ç å·²å‘é€ï¼Œè¯·æŸ¥æ”¶é‚®ç®±",icon:"success",duration:2e3}),n.value=60,s&&clearInterval(s),s=setInterval((()=>{n.value--,n.value<=0&&(clearInterval(s),s=null)}),1e3)}catch(e){t("error","at pages/register/register.vue:141","å‘é€éªŒè¯ç å¤±è´¥:",e),uni.showToast({title:e.message||"éªŒè¯ç å‘é€å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",icon:"none",duration:2e3})}finally{uni.hideLoading()}}else uni.showToast({title:"è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±æ ¼å¼",icon:"none"});else uni.showToast({title:"è¯·å…ˆè¾“å…¥é‚®ç®±",icon:"none"})},m=async()=>{if(l.username.trim())if(l.username.trim().length<3||l.username.trim().length>20)uni.showToast({title:"ç”¨æˆ·åé•¿åº¦ä¸º3-20ä¸ªå­—ç¬¦",icon:"none"});else if(l.email.trim())if(r(l.email))if(l.verifyCode.trim())if(4===l.verifyCode.trim().length)if(l.password.trim())if(l.password.length<6||l.password.length>20)uni.showToast({title:"å¯†ç é•¿åº¦ä¸º6-20ä¸ªå­—ç¬¦",icon:"none"});else if(l.confirmPassword.trim())if(l.password===l.confirmPassword){o.value=!0,uni.showLoading({title:"æ³¨å†Œä¸­..."});try{await c({username:l.username.trim(),email:l.email.trim(),password:l.password,confirm_password:l.confirmPassword,code:l.verifyCode.trim()}),uni.showToast({title:"æ³¨å†ŒæˆåŠŸ",icon:"success"}),setTimeout((async()=>{try{const e=await u({email:l.email.trim(),password:l.password});b.setToken(e.token),b.setUserInfo(e.user),uni.switchTab({url:"/pages/workspace/workspace"})}catch(e){t("error","at pages/register/register.vue:238","è‡ªåŠ¨ç™»å½•å¤±è´¥:",e),uni.showToast({title:"æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:"/pages/login/login"})}),1500)}}),1500)}catch(e){t("error","at pages/register/register.vue:251","æ³¨å†Œå¤±è´¥:",e),uni.showToast({title:e.message||"æ³¨å†Œå¤±è´¥ï¼Œè¯·æ£€æŸ¥ä¿¡æ¯åé‡è¯•",icon:"none",duration:2e3})}finally{o.value=!1,uni.hideLoading()}}else uni.showToast({title:"ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´",icon:"none"});else uni.showToast({title:"è¯·ç¡®è®¤å¯†ç ",icon:"none"});else uni.showToast({title:"è¯·è¾“å…¥å¯†ç ",icon:"none"});else uni.showToast({title:"éªŒè¯ç ä¸º4ä½æ•°å­—",icon:"none"});else uni.showToast({title:"è¯·è¾“å…¥éªŒè¯ç ",icon:"none"});else uni.showToast({title:"è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±æ ¼å¼",icon:"none"});else uni.showToast({title:"è¯·è¾“å…¥é‚®ç®±",icon:"none"});else uni.showToast({title:"è¯·è¾“å…¥ç”¨æˆ·å",icon:"none"})},v=()=>{uni.navigateTo({url:"/pages/login/login"})};return e.onUnmounted((()=>{s&&(clearInterval(s),s=null)})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"register-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"æ³¨å†Œ SparkCanvas"),e.createElementVNode("text",{class:"subtitle"},"å¼€å¯AIåˆ›ä½œä¹‹æ—…")]),e.createElementVNode("view",{class:"register-card card"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"ç”¨æˆ·å"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>l.username=e),class:"input",placeholder:"è¯·è¾“å…¥ç”¨æˆ·å","placeholder-class":"placeholder",type:"text"},null,512),[[e.vModelText,l.username]])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"é‚®ç®±"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>l.email=e),class:"input",placeholder:"è¯·è¾“å…¥é‚®ç®±","placeholder-class":"placeholder",type:"text"},null,512),[[e.vModelText,l.email]])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"éªŒè¯ç "),e.createElementVNode("view",{class:"code-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>l.verifyCode=e),class:"input code-input",placeholder:"è¯·è¾“å…¥éªŒè¯ç ","placeholder-class":"placeholder",type:"text"},null,512),[[e.vModelText,l.verifyCode]]),e.createElementVNode("button",{class:"code-btn",onClick:d,disabled:n.value>0},e.toDisplayString(n.value>0?`${n.value}s`:"å‘é€éªŒè¯ç "),9,["disabled"])])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"å¯†ç "),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>l.password=e),class:"input",placeholder:"è¯·è¾“å…¥å¯†ç ï¼ˆ6-20ä½ï¼‰","placeholder-class":"placeholder",type:"password"},null,512),[[e.vModelText,l.password]])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"ç¡®è®¤å¯†ç "),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>l.confirmPassword=e),class:"input",placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç ","placeholder-class":"placeholder",type:"password"},null,512),[[e.vModelText,l.confirmPassword]])]),e.createElementVNode("button",{class:"btn register-btn",onClick:m,loading:o.value},e.toDisplayString(o.value?"æ³¨å†Œä¸­...":"æ³¨å†Œ"),9,["loading"]),e.createElementVNode("view",{class:"footer-links"},[e.createElementVNode("text",{class:"link",onClick:v},"å·²æœ‰è´¦å·ï¼Ÿç«‹å³ç™»å½•")])])]))}},[["__scopeId","data-v-9e34ec65"]]),C=V({__name:"history",setup(a){const l=e.ref([]),o=e.ref(!1),n=e.ref(1),s=e.ref(20),r=e.ref(0),i=e.ref(""),c=e.ref(!1),u=e.ref({}),d=e.ref(0),m=e=>{if(!e)return"";const t=new Date(e),a=new Date-t;return a<6e4?"åˆšåˆš":a<36e5?`${Math.floor(a/6e4)}åˆ†é’Ÿå‰`:a<864e5?`${Math.floor(a/36e5)}å°æ—¶å‰`:a<6048e5?`${Math.floor(a/864e5)}å¤©å‰`:t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},v=async(e=!1)=>{e&&(n.value=1),o.value=!0;try{let e;e=c.value&&i.value.trim()?await h({keyword:i.value.trim(),page:n.value,page_size:s.value}):await g({page:n.value,page_size:s.value}),200===e.code?(l.value=e.data.items||[],r.value=e.data.total||0,d.value=Math.ceil(r.value/s.value),u.value={}):uni.showToast({title:e.message||"åŠ è½½å¤±è´¥",icon:"none"})}catch(a){t("error","at pages/history/history.vue:186","åŠ è½½å†å²è®°å½•å¤±è´¥:",a),uni.showToast({title:a.message||"åŠ è½½å¤±è´¥",icon:"none"})}finally{o.value=!1}},p=()=>{i.value.trim()?(c.value=!0,v(!0)):uni.showToast({title:"è¯·è¾“å…¥æœç´¢å…³é”®è¯",icon:"none"})},y=()=>{c.value=!1,i.value="",v(!0)},E=e=>{e<1||e>d.value||(n.value=e,v())},k=e=>{if(!e)return"";const t=e.split("\n");return t.length<=5?e:t.slice(0,5).join("\n")},f=e=>{if(!e)return!1;return e.split("\n").length>5},V=e=>`${e.session_id}-${e.timestamp}`,N=e=>u.value[V(e)]||!1;return e.onMounted((()=>{v()})),(a,s)=>(e.openBlock(),e.createElementBlock("view",{class:"history-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"ğŸ“š å†å²è®°å½•")]),e.createElementVNode("view",{class:"search-card card"},[e.createElementVNode("view",{class:"search-box"},[e.withDirectives(e.createElementVNode("input",{class:"search-input","onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e),placeholder:"æœç´¢å†å²è®°å½•...",onConfirm:p},null,544),[[e.vModelText,i.value]]),e.createElementVNode("button",{class:"btn btn-primary btn-small",onClick:p},"ğŸ” æœç´¢")]),c.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"search-tip"},[e.createElementVNode("text",null,"æœç´¢å…³é”®è¯: "+e.toDisplayString(i.value),1),e.createElementVNode("text",{class:"cancel-search",onClick:y},"å–æ¶ˆæœç´¢")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"history-list"},[o.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading"},[e.createElementVNode("text",null,"åŠ è½½ä¸­...")])):0===l.value.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty"},[e.createElementVNode("text",null,"æš‚æ— å†å²è®°å½•")])):(e.openBlock(),e.createElementBlock("view",{key:2},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,((a,l)=>(e.openBlock(),e.createElementBlock("view",{key:`${a.session_id}-${a.timestamp}`,class:"history-item card"},[e.createElementVNode("view",{class:"item-header"},[e.createElementVNode("text",{class:"session-tag"},"ä¼šè¯: "+e.toDisplayString(a.session_id.slice(0,8))+"...",1),e.createElementVNode("view",{class:"header-right"},[e.createElementVNode("text",{class:"time-text"},e.toDisplayString(m(a.timestamp)),1),e.createElementVNode("button",{class:"btn-delete",onClick:e=>(e=>{uni.showModal({title:"ç¡®è®¤åˆ é™¤",content:"ç¡®å®šè¦åˆ é™¤è¿™æ¡å†å²è®°å½•å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚",success:async a=>{if(a.confirm)try{await w({session_id:e.session_id,timestamp:e.timestamp}),uni.showToast({title:"åˆ é™¤æˆåŠŸ",icon:"success"}),await v()}catch(l){t("error","at pages/history/history.vue:307","åˆ é™¤å¤±è´¥:",l),uni.showToast({title:l.message||"åˆ é™¤å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",icon:"none",duration:2e3})}}})})(a)},"ğŸ—‘ï¸ åˆ é™¤",8,["onClick"])])]),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("view",{class:"message-section"},[e.createElementVNode("text",{class:"label"},"ç”¨æˆ·æ¶ˆæ¯ï¼š"),e.createElementVNode("text",{class:"message-text"},e.toDisplayString(a.message),1)]),e.createElementVNode("view",{class:"response-section"},[e.createElementVNode("text",{class:"label"},"åŠ©æ‰‹å›å¤ï¼š"),e.createElementVNode("view",{class:"response-container"},[e.createElementVNode("text",{class:e.normalizeClass(["response-text",{expanded:N(a)}])},e.toDisplayString(N(a)?a.response:k(a.response)),3),e.createElementVNode("view",{class:"action-buttons"},[e.createElementVNode("text",{class:"action-btn copy-btn",onClick:e=>(e=>{const a=e.response||"";a?uni.setClipboardData({data:a,success:()=>{uni.showToast({title:"å¤åˆ¶æˆåŠŸ",icon:"success",duration:1500})},fail:e=>{t("error","at pages/history/history.vue:279","å¤åˆ¶å¤±è´¥:",e),uni.showToast({title:"å¤åˆ¶å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",icon:"none"})}}):uni.showToast({title:"å†…å®¹ä¸ºç©ºï¼Œæ— æ³•å¤åˆ¶",icon:"none"})})(a)}," å¤åˆ¶ ",8,["onClick"]),f(a.response)?(e.openBlock(),e.createElementBlock("text",{key:0,class:"action-btn expand-btn",onClick:e=>(e=>{const t=V(e);u.value[t]=!u.value[t]})(a)},e.toDisplayString(N(a)?"æ”¶èµ·":"å±•å¼€"),9,["onClick"])):e.createCommentVNode("",!0)])])])])])))),128))]))]),r.value>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"pagination"},[e.createElementVNode("button",{class:"btn btn-outline btn-small",disabled:1===n.value,onClick:s[1]||(s[1]=e=>E(n.value-1))},"ä¸Šä¸€é¡µ",8,["disabled"]),e.createElementVNode("text",{class:"page-info"},"ç¬¬ "+e.toDisplayString(n.value)+" / "+e.toDisplayString(d.value)+" é¡µ (å…± "+e.toDisplayString(r.value)+" æ¡)",1),e.createElementVNode("button",{class:"btn btn-outline btn-small",disabled:n.value>=d.value,onClick:s[2]||(s[2]=e=>E(n.value+1))},"ä¸‹ä¸€é¡µ",8,["disabled"])])):e.createCommentVNode("",!0)]))}},[["__scopeId","data-v-709cbdd9"]]),_=V({__name:"rag",setup(a){const l=e.ref([]),o=e.ref([]),n=e.ref(!1),s=e.ref(!1),r=e.ref(1),i=e.ref(20),c=e.ref(0),u=e.ref(""),d=e.ref(!1),m=e.computed((()=>Math.ceil(c.value/i.value))),v=e=>{const t=Number(e);return Number.isNaN(t)?"-":t.toFixed(3)},p=e=>{if(!e)return"";const t=new Date(e),a=new Date-t;return a<6e4?"åˆšåˆš":a<36e5?`${Math.floor(a/6e4)}åˆ†é’Ÿå‰`:a<864e5?`${Math.floor(a/36e5)}å°æ—¶å‰`:a<6048e5?`${Math.floor(a/864e5)}å¤©å‰`:t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},g=()=>{uni.chooseFile({count:1,extension:[".pdf",".doc",".docx",".txt"],success:e=>{if(e.tempFiles&&e.tempFiles.length>0){const t=e.tempFiles[0];if(t.size>52428800)return void uni.showToast({title:"æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡50MB",icon:"none"});h(t.path)}},fail:e=>{t("error","at pages/rag/rag.vue:199","é€‰æ‹©æ–‡ä»¶å¤±è´¥:",e),uni.showToast({title:e.errMsg||"é€‰æ‹©æ–‡ä»¶å¤±è´¥",icon:"none"})}})},h=async e=>{s.value=!0;try{const t=await y(e);200===t.code?(uni.showToast({title:"ä¸Šä¼ æˆåŠŸ",icon:"success"}),w(!0)):uni.showToast({title:t.message||"ä¸Šä¼ å¤±è´¥",icon:"none"})}catch(a){t("error","at pages/rag/rag.vue:227","ä¸Šä¼ æ–‡æ¡£å¤±è´¥:",a),uni.showToast({title:a.message||"ä¸Šä¼ å¤±è´¥",icon:"none"})}finally{s.value=!1}},w=async(e=!1)=>{e&&(r.value=1),n.value=!0;try{const e=await k({page:r.value,page_size:i.value});200===e.code?(l.value=e.data.items||[],c.value=e.data.total||0):uni.showToast({title:e.message||"åŠ è½½å¤±è´¥",icon:"none"})}catch(a){t("error","at pages/rag/rag.vue:260","åŠ è½½æ–‡æ¡£åˆ—è¡¨å¤±è´¥:",a),uni.showToast({title:a.message||"åŠ è½½å¤±è´¥",icon:"none"})}finally{n.value=!1}},V=async()=>{if(u.value.trim()){d.value=!0,n.value=!0;try{const e=await f({query:u.value.trim(),top_k:5});200===e.code?(o.value=e.data.results||[],0===o.value.length&&uni.showToast({title:"æœªæ‰¾åˆ°ç›¸å…³æ–‡æ¡£",icon:"none"})):uni.showToast({title:e.message||"æœç´¢å¤±è´¥",icon:"none"})}catch(e){t("error","at pages/rag/rag.vue:304","æœç´¢å¤±è´¥:",e),uni.showToast({title:e.message||"æœç´¢å¤±è´¥",icon:"none"})}finally{n.value=!1}}else uni.showToast({title:"è¯·è¾“å…¥æœç´¢å…³é”®è¯",icon:"none"})},N=()=>{d.value=!1,u.value="",o.value=[],w(!0)},b=async e=>{try{const t=await E(e);200===t.code?(uni.showToast({title:"åˆ é™¤æˆåŠŸ",icon:"success"}),w(!0)):uni.showToast({title:t.message||"åˆ é™¤å¤±è´¥",icon:"none"})}catch(a){t("error","at pages/rag/rag.vue:353","åˆ é™¤æ–‡æ¡£å¤±è´¥:",a),uni.showToast({title:a.message||"åˆ é™¤å¤±è´¥",icon:"none"})}},T=e=>{e<1||e>m.value||(r.value=e,w())};return e.onMounted((()=>{w()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"rag-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"ğŸ“– çŸ¥è¯†åº“")]),e.createElementVNode("view",{class:"upload-card card"},[e.createElementVNode("view",{class:"upload-section"},[e.createElementVNode("button",{class:"btn btn-primary btn-upload",onClick:g}," ğŸ“¤ ä¸Šä¼ æ–‡æ¡£ "),e.createElementVNode("text",{class:"upload-tip"},"æ”¯æŒ PDFã€Wordã€Txt æ ¼å¼")]),s.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"upload-status"},[e.createElementVNode("text",null,"ä¸Šä¼ ä¸­...")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"search-card card"},[e.createElementVNode("view",{class:"search-box"},[e.withDirectives(e.createElementVNode("input",{class:"search-input","onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),placeholder:"è¾“å…¥å…³é”®è¯è¿›è¡Œè¯­ä¹‰æ£€ç´¢...",onConfirm:V},null,544),[[e.vModelText,u.value]]),e.createElementVNode("button",{class:"btn btn-primary btn-small",onClick:V},"ğŸ” æœç´¢")]),d.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"search-tip"},[e.createElementVNode("text",null,"æœç´¢å…³é”®è¯: "+e.toDisplayString(u.value),1),e.createElementVNode("text",{class:"cancel-search",onClick:N},"å–æ¶ˆæœç´¢")])):e.createCommentVNode("",!0)]),d.value&&o.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"search-results"},[e.createElementVNode("view",{class:"section-title"},"ğŸ” æœç´¢ç»“æœ ("+e.toDisplayString(o.value.length)+" æ¡)",1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"search-result-item card"},[e.createElementVNode("view",{class:"result-header"},[e.createElementVNode("text",{class:"result-score"},"è·ç¦»å€¼: "+e.toDisplayString(v(t.distance)),1),e.createElementVNode("text",{class:"result-file"},e.toDisplayString(t.metadata.file_name),1)]),e.createElementVNode("view",{class:"result-content"},[e.createElementVNode("text",{class:"result-text"},e.toDisplayString(t.content),1)])])))),128))])):e.createCommentVNode("",!0),d.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"documents-section"},[e.createElementVNode("view",{class:"section-title"}," ğŸ“š æˆ‘çš„æ–‡æ¡£ (å…± "+e.toDisplayString(c.value)+" ä¸ª) ",1),n.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading"},[e.createElementVNode("text",null,"åŠ è½½ä¸­...")])):0===l.value.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty"},[e.createElementVNode("text",null,"æš‚æ— æ–‡æ¡£ï¼Œè¯·ä¸Šä¼ æ–‡æ¡£")])):(e.openBlock(),e.createElementBlock("view",{key:2},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,((t,a)=>{return e.openBlock(),e.createElementBlock("view",{key:t.document_id,class:"document-item card"},[e.createElementVNode("view",{class:"doc-header"},[e.createElementVNode("view",{class:"doc-info"},[e.createElementVNode("text",{class:"doc-name"},e.toDisplayString(t.file_name),1),e.createElementVNode("text",{class:"doc-meta"},e.toDisplayString((l=t.file_size,l?l<1024?l+" B":l<1048576?(l/1024).toFixed(1)+" KB":(l/1048576).toFixed(1)+" MB":"0 B"))+" Â· "+e.toDisplayString(t.chunks_count)+" å— Â· "+e.toDisplayString(p(t.uploaded_at)),1)]),e.createElementVNode("button",{class:"btn-delete",onClick:e=>{return a=t.document_id,l=t.file_name,void uni.showModal({title:"ç¡®è®¤åˆ é™¤",content:`ç¡®å®šè¦åˆ é™¤æ–‡æ¡£ "${l}" å—ï¼Ÿ`,success:async e=>{e.confirm&&await b(a)}});var a,l}}," ğŸ—‘ï¸ ",8,["onClick"])])]);var l})),128))]))])),!d.value&&c.value>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"pagination"},[e.createElementVNode("button",{class:"btn btn-outline btn-small",disabled:1===r.value,onClick:a[1]||(a[1]=e=>T(r.value-1))},"ä¸Šä¸€é¡µ",8,["disabled"]),e.createElementVNode("text",{class:"page-info"},"ç¬¬ "+e.toDisplayString(r.value)+" / "+e.toDisplayString(m.value)+" é¡µ (å…± "+e.toDisplayString(c.value)+" ä¸ª)",1),e.createElementVNode("button",{class:"btn btn-outline btn-small",disabled:r.value>=m.value,onClick:a[2]||(a[2]=e=>T(r.value+1))},"ä¸‹ä¸€é¡µ",8,["disabled"])])):e.createCommentVNode("",!0)]))}},[["__scopeId","data-v-e9062dbf"]]);__definePage("pages/workspace/workspace",N),__definePage("pages/login/login",T),__definePage("pages/register/register",x),__definePage("pages/history/history",C),__definePage("pages/rag/rag",_);const B={onLaunch:function(){t("log","at App.vue:6","SparkCanvas App Launch"),this.checkLoginStatus()},onShow:function(){t("log","at App.vue:11","SparkCanvas App Show")},onHide:function(){t("log","at App.vue:14","SparkCanvas App Hide")},methods:{checkLoginStatus(){const e=b.getToken(),a=b.getUserInfo();e&&a?t("log","at App.vue:23","ç”¨æˆ·å·²ç™»å½•:",a):t("log","at App.vue:25","ç”¨æˆ·æœªç™»å½•")}}};const{app:S,Vuex:D,Pinia:A}={app:e.createVueApp(B)};uni.Vuex=D,uni.Pinia=A,S.provide("__globalStyles",__uniConfig.styles),S._component.mpType="app",S._component.render=()=>{},S.mount("#app")}(Vue);
