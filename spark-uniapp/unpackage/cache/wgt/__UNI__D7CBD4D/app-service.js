if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}const a=((t,a=0)=>(a,l=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,a,l)})("onLoad",2),l=6e4,o="access_token",n="user_info",s="http://localhost:8000",r=e=>new Promise(((a,r)=>{const i=(e=>{const t=uni.getStorageSync(o);return t&&(e.header={...e.header,Authorization:`Bearer ${t}`}),e.header={"Content-Type":"application/json",...e.header},e})({url:s+e.url,method:e.method||"GET",data:e.data,header:e.header||{},timeout:l});uni.request({...i,success:e=>{(e=>{const{statusCode:t,data:a}=e;if(200===t){if(a&&"object"==typeof a){if("code"in a){if(200===a.code)return Promise.resolve(a);{const e=a.message||a.error||"ËØ∑Ê±ÇÂ§±Ë¥•";return Promise.reject(new Error(e))}}return Promise.resolve(a)}return Promise.resolve(a)}if(400===t){const e=(null==a?void 0:a.detail)||(null==a?void 0:a.message)||"ËØ∑Ê±ÇÂèÇÊï∞ÈîôËØØ";return Promise.reject(new Error(e))}return 401===t?(uni.removeStorageSync(o),uni.removeStorageSync(n),uni.reLaunch({url:"/pages/login/login"}),Promise.reject(new Error("ÁôªÂΩïÂ∑≤ËøáÊúüÔºåËØ∑ÈáçÊñ∞ÁôªÂΩï"))):403===t?Promise.reject(new Error((null==a?void 0:a.detail)||"Êó†ÊùÉÈôêËÆøÈóÆ")):500===t?Promise.reject(new Error((null==a?void 0:a.detail)||"ÊúçÂä°Âô®ÈîôËØØ")):Promise.reject(new Error((null==a?void 0:a.detail)||`ËØ∑Ê±ÇÂ§±Ë¥•: ${t}`))})(e).then(a).catch(r)},fail:e=>{t("error","at utils/http.js:100","ËØ∑Ê±ÇÂ§±Ë¥•:",e),r(new Error(e.errMsg||"ÁΩëÁªúËØ∑Ê±ÇÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•"))}})})),i=e=>r({url:`/auth/code?email=${encodeURIComponent(e)}`,method:"GET"}),c=e=>r({url:"/auth/register",method:"POST",data:e}),u=e=>r({url:"/auth/login",method:"POST",data:e}),d=()=>r({url:"/api/v1/workspace/create-session",method:"POST"}),m=e=>r({url:"/api/v1/workspace/send-message",method:"POST",data:e}),v=e=>r({url:`/api/v1/workspace/session/${e}`,method:"GET"}),p=e=>r({url:"/api/v1/workspace/regenerate",method:"POST",data:e}),g=e=>{const t=Object.keys(e||{}).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&");return r({url:"/api/v1/history/conversations"+(t?"?"+t:""),method:"GET"})},h=e=>{const t=Object.keys(e||{}).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&");return r({url:"/api/v1/history/search"+(t?"?"+t:""),method:"GET"})},w=e=>r({url:"/api/v1/history/delete",method:"DELETE",data:e}),y=e=>new Promise(((t,a)=>{const l=uni.getStorageSync(o);uni.uploadFile({url:s+"/api/v1/rag/upload",filePath:e,name:"file",header:{Authorization:l?`Bearer ${l}`:""},success:e=>{if(200===e.statusCode)try{const l=JSON.parse(e.data);200===l.code?t(l):a(new Error(l.message||l.detail||"‰∏ä‰º†Â§±Ë¥•"))}catch(l){a(new Error("ÂìçÂ∫îËß£ÊûêÂ§±Ë¥•"))}else if(401===e.statusCode)uni.removeStorageSync(o),uni.removeStorageSync(n),uni.reLaunch({url:"/pages/login/login"}),a(new Error("ÁôªÂΩïÂ∑≤ËøáÊúüÔºåËØ∑ÈáçÊñ∞ÁôªÂΩï"));else try{const t=JSON.parse(e.data);a(new Error(t.detail||t.message||`‰∏ä‰º†Â§±Ë¥•: ${e.statusCode}`))}catch(l){a(new Error(`‰∏ä‰º†Â§±Ë¥•: ${e.statusCode}`))}},fail:e=>{a(new Error(e.errMsg||"‰∏ä‰º†Â§±Ë¥•"))}})})),E=e=>r({url:"/api/v1/rag/delete",method:"DELETE",data:{document_id:e}}),k=e=>{const t=Object.keys(e||{}).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&");return r({url:"/api/v1/rag/list"+(t?"?"+t:""),method:"GET"})},f=e=>r({url:"/api/v1/rag/search",method:"POST",data:e}),V=(e,t)=>{const a=e.__vccOpts||e;for(const[l,o]of t)a[l]=o;return a},N=V({__name:"workspace",setup(l){const o=[{label:"Â∞èÁ∫¢‰π¶",value:"xiaohongshu"},{label:"ÊäñÈü≥",value:"douyin"}],n=[{label:"ËÅîÁΩëÊ£ÄÁ¥¢",value:"online"},{label:"RAGÁü•ËØÜÂ∫ì",value:"rag"},{label:"‰∏ä‰º†Á¥†Êùê",value:"upload"}],s=e.ref(""),r=e.ref({}),i=e.ref("xiaohongshu"),c=e.ref("online"),u=e.ref(""),g=e.ref(null),h=e.ref(!1),w=e.ref(!1),y=e.ref(!1),E=e.ref(!1),k=e.ref(""),f=e.ref(""),V=e.ref(""),N=e.ref(""),b=e.ref(""),x=e.computed((()=>f.value?f.value.split("\n"):[])),B=e=>{if(!e)return"";const t=new Date(e);return`${t.getMonth()+1}/${t.getDate()} ${t.getHours()}:${String(t.getMinutes()).padStart(2,"0")}`},T=async()=>{var e,a,l;try{w.value=!0;const t=await d();s.value=(null==(e=null==t?void 0:t.data)?void 0:e.session_id)||"",s.value&&(r.value={created_at:null==(a=null==t?void 0:t.data)?void 0:a.created_at,expires_at:null==(l=null==t?void 0:t.data)?void 0:l.expires_at,message_count:0})}catch(o){t("error","at pages/workspace/workspace.vue:198","ÂàõÂª∫Â∑•‰ΩúÂè∞‰ºöËØùÂ§±Ë¥•:",o),uni.showToast({title:(null==o?void 0:o.message)||"ÂàõÂª∫‰ºöËØùÂ§±Ë¥•",icon:"none"})}finally{w.value=!1}},_=async()=>{E.value=!1,k.value="",f.value="",V.value="",u.value="",await T(),uni.showToast({title:"Â∑≤ÂàõÂª∫Êñ∞‰ºöËØù",icon:"success"})},S=async()=>{if(s.value)try{const e=await v(s.value);(null==e?void 0:e.data)&&(r.value=e.data)}catch(e){t("error","at pages/workspace/workspace.vue:224","Ëé∑Âèñ‰ºöËØù‰ø°ÊÅØÂ§±Ë¥•:",e),uni.showToast({title:(null==e?void 0:e.message)||"Ëé∑Âèñ‰ºöËØù‰ø°ÊÅØÂ§±Ë¥•",icon:"none"})}},C=()=>{uni.chooseMessageFile({count:1,type:"file",extension:["pdf","doc","docx","txt"],success:e=>{e.tempFiles&&e.tempFiles.length>0&&(g.value=e.tempFiles[0])},fail:()=>{uni.chooseFile&&uni.chooseFile({count:1,extension:["pdf","doc","docx","txt"],success:e=>{e.tempFiles&&e.tempFiles.length>0&&(g.value=e.tempFiles[0])}})}})},D=async()=>{if(g.value&&s.value)try{h.value=!0;const e=uni.getStorageSync("access_token"),t=await new Promise(((t,a)=>{uni.uploadFile({url:"http://localhost:8000/api/v1/workspace/upload-material",filePath:g.value.path,name:"file",formData:{session_id:s.value},header:{Authorization:`Bearer ${e}`},success:e=>{200===e.statusCode?t(JSON.parse(e.data)):a(new Error("‰∏ä‰º†Â§±Ë¥•"))},fail:a})}));200===(null==t?void 0:t.code)&&uni.showToast({title:"Á¥†Êùê‰∏ä‰º†ÊàêÂäü",icon:"success"})}catch(e){t("error","at pages/workspace/workspace.vue:282","‰∏ä‰º†Á¥†ÊùêÂ§±Ë¥•:",e),uni.showToast({title:(null==e?void 0:e.message)||"‰∏ä‰º†Â§±Ë¥•",icon:"none"})}finally{h.value=!1}},A=async()=>{var e,a,l;if(u.value.trim()&&(s.value||(await T(),s.value)))try{w.value=!0;const t={session_id:s.value,message:u.value,material_source:c.value,platform:i.value},o=await m(t),n=null==(e=null==o?void 0:o.data)?void 0:e.content;n?(k.value=n.title||"",f.value=n.body||"",V.value=n.image_url||"",N.value=(null==(a=null==o?void 0:o.data)?void 0:a.status)||"completed",b.value=B(null==(l=null==o?void 0:o.data)?void 0:l.timestamp),E.value=!0,await S()):uni.showToast({title:"ÂêéÁ´ØÊú™ËøîÂõûÂÜÖÂÆπ",icon:"none"})}catch(o){t("error","at pages/workspace/workspace.vue:320","ÂèëÈÄÅÊ∂àÊÅØÂ§±Ë¥•:",o),uni.showToast({title:(null==o?void 0:o.message)||"ÁîüÊàêÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï",icon:"none"})}finally{w.value=!1}},P=async()=>{var e,a,l;if(s.value)try{y.value=!0;const t={session_id:s.value,adjustments:{emotion_intensity:"high",style_preference:"xiaohongshu"===i.value?"Â∞èÁ∫¢‰π¶ÁàÜÊ¨æ":"ÊäñÈü≥ÁÉ≠Èó®"}},o=await p(t),n=null==(e=null==o?void 0:o.data)?void 0:e.content;n&&(k.value=n.title||"",f.value=n.body||"",V.value=n.image_url||"",N.value=(null==(a=null==o?void 0:o.data)?void 0:a.status)||"completed",b.value=B(null==(l=null==o?void 0:o.data)?void 0:l.timestamp),await S(),uni.showToast({title:"ÈáçÊñ∞ÁîüÊàêÂÆåÊàê",icon:"success"}))}catch(o){t("error","at pages/workspace/workspace.vue:352","ÈáçÊñ∞ÁîüÊàêÂ§±Ë¥•:",o),uni.showToast({title:(null==o?void 0:o.message)||"ÈáçÊñ∞ÁîüÊàêÂ§±Ë¥•",icon:"none"})}finally{y.value=!1}};return a((async()=>{await T()})),(t,a)=>{return e.openBlock(),e.createElementBlock("view",{class:"workspace-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"‚ú® SparkCanvas Â∑•‰ΩúÂè∞"),e.createElementVNode("text",{class:"subtitle"},"‰∏ÄÈîÆÁîüÊàêÁàÜÊ¨æÂÜÖÂÆπ")]),s.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"session-card card"},[e.createElementVNode("view",{class:"session-header"},[e.createElementVNode("text",{class:"session-label"},"ÂΩìÂâç‰ºöËØù"),e.createElementVNode("text",{class:"session-id"},e.toDisplayString(s.value.slice(0,8))+"...",1)]),e.createElementVNode("view",{class:"session-meta"},[e.createElementVNode("text",null,"Ê∂àÊÅØÊï∞: "+e.toDisplayString(r.value.message_count||0),1),r.value.last_message_time?(e.openBlock(),e.createElementBlock("text",{key:0},"ÊúÄÂêéÊ∂àÊÅØ: "+e.toDisplayString(B(r.value.last_message_time)),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"session-actions"},[e.createElementVNode("button",{class:"btn btn-small btn-outline",onClick:S},"Âà∑Êñ∞Áä∂ÊÄÅ"),e.createElementVNode("button",{class:"btn btn-small btn-outline",onClick:_},"Êñ∞Âª∫‰ºöËØù")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"content-card card"},[e.createElementVNode("view",{class:"card-title"},"üìù ÂÜÖÂÆπÂàõ‰Ωú"),e.createElementVNode("view",{class:"field-row"},[e.createElementVNode("view",{class:"field-label"},"ÁõÆÊ†áÂπ≥Âè∞"),e.createElementVNode("view",{class:"field-value tags-row"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(o,(t=>e.createElementVNode("text",{key:t.value,class:e.normalizeClass(["tag",i.value===t.value?"tag-primary":"tag-default"]),onClick:e=>i.value=t.value},e.toDisplayString(t.label),11,["onClick"]))),64))])]),e.createElementVNode("view",{class:"field-row"},[e.createElementVNode("view",{class:"field-label"},"Á¥†ÊùêÊù•Ê∫ê"),e.createElementVNode("view",{class:"field-value tags-row"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(n,(t=>e.createElementVNode("text",{key:t.value,class:e.normalizeClass(["tag",c.value===t.value?"tag-primary":"tag-default"]),onClick:e=>c.value=t.value},e.toDisplayString(t.label),11,["onClick"]))),64))])]),"upload"===c.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"field-row column"},[e.createElementVNode("view",{class:"field-label"},"‰∏ä‰º†Á¥†ÊùêÊñá‰ª∂"),e.createElementVNode("view",{class:"upload-area",onClick:C},[g.value?(e.openBlock(),e.createElementBlock("text",{key:1,class:"uploaded-file-name"},e.toDisplayString(g.value.name)+" ("+e.toDisplayString((l=g.value.size,l?l<1024?l+"B":l<1048576?(l/1024).toFixed(1)+"KB":(l/1024/1024).toFixed(1)+"MB":"0B"))+")",1)):(e.openBlock(),e.createElementBlock("text",{key:0},"ÁÇπÂáªÈÄâÊã©Êñá‰ª∂ÔºàÊîØÊåÅ PDF/Word/TxtÔºâ"))]),g.value?(e.openBlock(),e.createElementBlock("button",{key:0,class:"btn btn-small btn-outline",loading:h.value,onClick:D},"‰∏ä‰º†Âà∞Â∑•‰ΩúÂè∞",8,["loading"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"field-row column"},[e.createElementVNode("view",{class:"field-label"},"Âàõ‰ΩúÈúÄÊ±Ç"),e.withDirectives(e.createElementVNode("textarea",{class:"input-area","onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),placeholder:"‰æãÂ¶ÇÔºöÂ∏ÆÊàëÂÜô‰∏ÄÁØáÂÖ≥‰∫éÊèêÂçáÂ∞èÁ∫¢‰π¶Á¨îËÆ∞ÁàÜÊ¨æÁéáÁöÑÂøÉÂæóÂàÜ‰∫´","auto-height":!0,maxlength:"-1"},null,512),[[e.vModelText,u.value]])]),e.createElementVNode("view",{class:"actions-row"},[E.value?(e.openBlock(),e.createElementBlock("button",{key:0,class:"btn btn-secondary",loading:y.value,disabled:y.value,onClick:P},e.toDisplayString(y.value?"ÈáçÊñ∞ÁîüÊàê‰∏≠...":"üîÑ ÈáçÊñ∞ÁîüÊàê"),9,["loading","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"btn btn-primary",loading:w.value,disabled:w.value||!u.value.trim(),onClick:A},e.toDisplayString(w.value?"ÁîüÊàê‰∏≠...":"‚ú® ÁîüÊàêÂÜÖÂÆπ"),9,["loading","disabled"])]),E.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"result-card"},[e.createElementVNode("view",{class:"result-header"},[e.createElementVNode("text",{class:"result-label"},"ÁîüÊàêÁªìÊûú"),e.createElementVNode("text",{class:"result-status"},e.toDisplayString(N.value),1)]),e.createElementVNode("view",{class:"result-title"},e.toDisplayString(k.value),1),e.createElementVNode("view",{class:"result-body"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(x.value,((t,a)=>(e.openBlock(),e.createElementBlock("text",{key:a},e.toDisplayString(t)+e.toDisplayString(a<x.value.length-1?"\n":""),1)))),128))]),V.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"result-image"},[e.createElementVNode("image",{src:V.value,mode:"widthFix"},null,8,["src"])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"result-meta"},[e.createElementVNode("text",null,"ÁîüÊàêÊó∂Èó¥: "+e.toDisplayString(b.value),1)])])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"placeholder"},[e.createElementVNode("text",null,"ÈÄâÊã©Âπ≥Âè∞ÂíåÁ¥†ÊùêÊù•Ê∫êÔºåËæìÂÖ•Âàõ‰ΩúÈúÄÊ±ÇÔºåÁÇπÂáªÁîüÊàêÊåâÈíÆÂºÄÂßãÂàõ‰Ωú„ÄÇ")]))])]);var l}}},[["__scopeId","data-v-312b09d2"]]),b={set(e,a){try{return uni.setStorageSync(e,a),!0}catch(l){return t("error","at utils/storage.js:13","Â≠òÂÇ®Â§±Ë¥•:",l),!1}},get(e,a=null){try{const t=uni.getStorageSync(e);return""!==t?t:a}catch(l){return t("error","at utils/storage.js:24","ËØªÂèñÂ≠òÂÇ®Â§±Ë¥•:",l),a}},remove(e){try{return uni.removeStorageSync(e),!0}catch(a){return t("error","at utils/storage.js:35","Âà†Èô§Â≠òÂÇ®Â§±Ë¥•:",a),!1}},clear(){try{return uni.clearStorageSync(),!0}catch(e){return t("error","at utils/storage.js:46","Ê∏ÖÁ©∫Â≠òÂÇ®Â§±Ë¥•:",e),!1}},setToken(e){return this.set("access_token",e)},getToken(){return this.get("access_token")},removeToken(){return this.remove("access_token")},setUserInfo(e){return this.set("user_info",e)},getUserInfo(){return this.get("user_info")},removeUserInfo(){return this.remove("user_info")}},x=V({__name:"login",setup(a){const l=e.reactive({email:"",password:""}),o=e.ref(!1),n=async()=>{var e;if(l.email.trim())if(e=l.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))if(l.password.trim())if(l.password.length<6)uni.showToast({title:"ÂØÜÁ†ÅÈïøÂ∫¶Ëá≥Â∞ë6‰Ωç",icon:"none"});else{o.value=!0,uni.showLoading({title:"ÁôªÂΩï‰∏≠..."});try{const e=await u({email:l.email.trim(),password:l.password});b.setToken(e.token),b.setUserInfo(e.user),uni.showToast({title:"ÁôªÂΩïÊàêÂäü",icon:"success"}),setTimeout((()=>{uni.switchTab({url:"/pages/workspace/workspace"})}),1500)}catch(a){t("error","at pages/login/login.vue:105","ÁôªÂΩïÂ§±Ë¥•:",a),uni.showToast({title:a.message||"ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÈÇÆÁÆ±ÂíåÂØÜÁ†Å",icon:"none",duration:2e3})}finally{o.value=!1,uni.hideLoading()}}else uni.showToast({title:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å",icon:"none"});else uni.showToast({title:"ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÈÇÆÁÆ±Ê†ºÂºè",icon:"none"});else uni.showToast({title:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±",icon:"none"})},s=()=>{uni.navigateTo({url:"/pages/register/register"})};return(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"login-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"Ê¨¢Ëøé‰ΩøÁî® SparkCanvas"),e.createElementVNode("text",{class:"subtitle"},"AIÂÜÖÂÆπÂàõ‰ΩúÂπ≥Âè∞")]),e.createElementVNode("view",{class:"login-card card"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"ÈÇÆÁÆ±"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>l.email=e),class:"input",placeholder:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±","placeholder-class":"placeholder",type:"text"},null,512),[[e.vModelText,l.email]])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"ÂØÜÁ†Å"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>l.password=e),class:"input",placeholder:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å","placeholder-class":"placeholder",type:"password"},null,512),[[e.vModelText,l.password]])]),e.createElementVNode("button",{class:"btn login-btn",onClick:n,loading:o.value},e.toDisplayString(o.value?"ÁôªÂΩï‰∏≠...":"ÁôªÂΩï"),9,["loading"]),e.createElementVNode("view",{class:"footer-links"},[e.createElementVNode("text",{class:"link",onClick:s},"ËøòÊ≤°ÊúâË¥¶Âè∑ÔºüÁ´ãÂç≥Ê≥®ÂÜå")])])]))}},[["__scopeId","data-v-eab800eb"]]),B=V({__name:"register",setup(a){const l=e.reactive({username:"",email:"",verifyCode:"",password:"",confirmPassword:""}),o=e.ref(!1),n=e.ref(0);let s=null;const r=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),d=async()=>{if(l.email.trim())if(r(l.email)){if(!(n.value>0))try{uni.showLoading({title:"ÂèëÈÄÅ‰∏≠..."}),await i(l.email.trim()),uni.showToast({title:"È™åËØÅÁ†ÅÂ∑≤ÂèëÈÄÅÔºåËØ∑Êü•Êî∂ÈÇÆÁÆ±",icon:"success",duration:2e3}),n.value=60,s&&clearInterval(s),s=setInterval((()=>{n.value--,n.value<=0&&(clearInterval(s),s=null)}),1e3)}catch(e){t("error","at pages/register/register.vue:141","ÂèëÈÄÅÈ™åËØÅÁ†ÅÂ§±Ë¥•:",e),uni.showToast({title:e.message||"È™åËØÅÁ†ÅÂèëÈÄÅÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï",icon:"none",duration:2e3})}finally{uni.hideLoading()}}else uni.showToast({title:"ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÈÇÆÁÆ±Ê†ºÂºè",icon:"none"});else uni.showToast({title:"ËØ∑ÂÖàËæìÂÖ•ÈÇÆÁÆ±",icon:"none"})},m=async()=>{if(l.username.trim())if(l.username.trim().length<3||l.username.trim().length>20)uni.showToast({title:"Áî®Êà∑ÂêçÈïøÂ∫¶‰∏∫3-20‰∏™Â≠óÁ¨¶",icon:"none"});else if(l.email.trim())if(r(l.email))if(l.verifyCode.trim())if(4===l.verifyCode.trim().length)if(l.password.trim())if(l.password.length<6||l.password.length>20)uni.showToast({title:"ÂØÜÁ†ÅÈïøÂ∫¶‰∏∫6-20‰∏™Â≠óÁ¨¶",icon:"none"});else if(l.confirmPassword.trim())if(l.password===l.confirmPassword){o.value=!0,uni.showLoading({title:"Ê≥®ÂÜå‰∏≠..."});try{await c({username:l.username.trim(),email:l.email.trim(),password:l.password,confirm_password:l.confirmPassword,code:l.verifyCode.trim()}),uni.showToast({title:"Ê≥®ÂÜåÊàêÂäü",icon:"success"}),setTimeout((async()=>{try{const e=await u({email:l.email.trim(),password:l.password});b.setToken(e.token),b.setUserInfo(e.user),uni.switchTab({url:"/pages/workspace/workspace"})}catch(e){t("error","at pages/register/register.vue:238","Ëá™Âä®ÁôªÂΩïÂ§±Ë¥•:",e),uni.showToast({title:"Ê≥®ÂÜåÊàêÂäüÔºåËØ∑ÁôªÂΩï",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:"/pages/login/login"})}),1500)}}),1500)}catch(e){t("error","at pages/register/register.vue:251","Ê≥®ÂÜåÂ§±Ë¥•:",e),uni.showToast({title:e.message||"Ê≥®ÂÜåÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•‰ø°ÊÅØÂêéÈáçËØï",icon:"none",duration:2e3})}finally{o.value=!1,uni.hideLoading()}}else uni.showToast({title:"‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏ç‰∏ÄËá¥",icon:"none"});else uni.showToast({title:"ËØ∑Á°ÆËÆ§ÂØÜÁ†Å",icon:"none"});else uni.showToast({title:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å",icon:"none"});else uni.showToast({title:"È™åËØÅÁ†Å‰∏∫4‰ΩçÊï∞Â≠ó",icon:"none"});else uni.showToast({title:"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å",icon:"none"});else uni.showToast({title:"ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÈÇÆÁÆ±Ê†ºÂºè",icon:"none"});else uni.showToast({title:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±",icon:"none"});else uni.showToast({title:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç",icon:"none"})},v=()=>{uni.navigateTo({url:"/pages/login/login"})};return e.onUnmounted((()=>{s&&(clearInterval(s),s=null)})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"register-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"Ê≥®ÂÜå SparkCanvas"),e.createElementVNode("text",{class:"subtitle"},"ÂºÄÂêØAIÂàõ‰Ωú‰πãÊóÖ")]),e.createElementVNode("view",{class:"register-card card"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"Áî®Êà∑Âêç"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>l.username=e),class:"input",placeholder:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç","placeholder-class":"placeholder",type:"text"},null,512),[[e.vModelText,l.username]])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"ÈÇÆÁÆ±"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>l.email=e),class:"input",placeholder:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±","placeholder-class":"placeholder",type:"text"},null,512),[[e.vModelText,l.email]])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"È™åËØÅÁ†Å"),e.createElementVNode("view",{class:"code-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>l.verifyCode=e),class:"input code-input",placeholder:"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å","placeholder-class":"placeholder",type:"text"},null,512),[[e.vModelText,l.verifyCode]]),e.createElementVNode("button",{class:"code-btn",onClick:d,disabled:n.value>0},e.toDisplayString(n.value>0?`${n.value}s`:"ÂèëÈÄÅÈ™åËØÅÁ†Å"),9,["disabled"])])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"ÂØÜÁ†Å"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>l.password=e),class:"input",placeholder:"ËØ∑ËæìÂÖ•ÂØÜÁ†ÅÔºà6-20‰ΩçÔºâ","placeholder-class":"placeholder",type:"password"},null,512),[[e.vModelText,l.password]])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"label"},"Á°ÆËÆ§ÂØÜÁ†Å"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>l.confirmPassword=e),class:"input",placeholder:"ËØ∑ÂÜçÊ¨°ËæìÂÖ•ÂØÜÁ†Å","placeholder-class":"placeholder",type:"password"},null,512),[[e.vModelText,l.confirmPassword]])]),e.createElementVNode("button",{class:"btn register-btn",onClick:m,loading:o.value},e.toDisplayString(o.value?"Ê≥®ÂÜå‰∏≠...":"Ê≥®ÂÜå"),9,["loading"]),e.createElementVNode("view",{class:"footer-links"},[e.createElementVNode("text",{class:"link",onClick:v},"Â∑≤ÊúâË¥¶Âè∑ÔºüÁ´ãÂç≥ÁôªÂΩï")])])]))}},[["__scopeId","data-v-9e34ec65"]]),T=V({__name:"history",setup(a){const l=e.ref([]),o=e.ref(!1),n=e.ref(1),s=e.ref(20),r=e.ref(0),i=e.ref(""),c=e.ref(!1),u=e.ref({}),d=e.ref(0),m=e=>{if(!e)return"";const t=new Date(e),a=new Date-t;return a<6e4?"ÂàöÂàö":a<36e5?`${Math.floor(a/6e4)}ÂàÜÈíüÂâç`:a<864e5?`${Math.floor(a/36e5)}Â∞èÊó∂Ââç`:a<6048e5?`${Math.floor(a/864e5)}Â§©Ââç`:t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},v=async(e=!1)=>{e&&(n.value=1),o.value=!0;try{let e;e=c.value&&i.value.trim()?await h({keyword:i.value.trim(),page:n.value,page_size:s.value}):await g({page:n.value,page_size:s.value}),200===e.code?(l.value=e.data.items||[],r.value=e.data.total||0,d.value=Math.ceil(r.value/s.value),u.value={}):uni.showToast({title:e.message||"Âä†ËΩΩÂ§±Ë¥•",icon:"none"})}catch(a){t("error","at pages/history/history.vue:178","Âä†ËΩΩÂéÜÂè≤ËÆ∞ÂΩïÂ§±Ë¥•:",a),uni.showToast({title:a.message||"Âä†ËΩΩÂ§±Ë¥•",icon:"none"})}finally{o.value=!1}},p=()=>{i.value.trim()?(c.value=!0,v(!0)):uni.showToast({title:"ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÂÖ≥ÈîÆËØç",icon:"none"})},y=()=>{c.value=!1,i.value="",v(!0)},E=e=>{e<1||e>d.value||(n.value=e,v())},k=e=>{if(!e)return"";const t=e.split("\n");return t.length<=5?e:t.slice(0,5).join("\n")},f=e=>{if(!e)return!1;return e.split("\n").length>5},V=e=>`${e.session_id}-${e.timestamp}`,N=e=>u.value[V(e)]||!1;return e.onMounted((()=>{v()})),(a,s)=>(e.openBlock(),e.createElementBlock("view",{class:"history-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"üìö ÂéÜÂè≤ËÆ∞ÂΩï")]),e.createElementVNode("view",{class:"search-card card"},[e.createElementVNode("view",{class:"search-box"},[e.withDirectives(e.createElementVNode("input",{class:"search-input","onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e),placeholder:"ÊêúÁ¥¢ÂéÜÂè≤ËÆ∞ÂΩï...",onConfirm:p},null,544),[[e.vModelText,i.value]]),e.createElementVNode("button",{class:"btn btn-primary btn-small",onClick:p},"üîç ÊêúÁ¥¢")]),c.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"search-tip"},[e.createElementVNode("text",null,"ÊêúÁ¥¢ÂÖ≥ÈîÆËØç: "+e.toDisplayString(i.value),1),e.createElementVNode("text",{class:"cancel-search",onClick:y},"ÂèñÊ∂àÊêúÁ¥¢")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"history-list"},[o.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading"},[e.createElementVNode("text",null,"Âä†ËΩΩ‰∏≠...")])):0===l.value.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty"},[e.createElementVNode("text",null,"ÊöÇÊó†ÂéÜÂè≤ËÆ∞ÂΩï")])):(e.openBlock(),e.createElementBlock("view",{key:2},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,((a,l)=>(e.openBlock(),e.createElementBlock("view",{key:`${a.session_id}-${a.timestamp}`,class:"history-item card"},[e.createElementVNode("view",{class:"item-header"},[e.createElementVNode("text",{class:"session-tag"},"‰ºöËØù: "+e.toDisplayString(a.session_id.slice(0,8))+"...",1),e.createElementVNode("view",{class:"header-right"},[e.createElementVNode("text",{class:"time-text"},e.toDisplayString(m(a.timestamp)),1),e.createElementVNode("button",{class:"btn-delete",onClick:e=>(e=>{uni.showModal({title:"Á°ÆËÆ§Âà†Èô§",content:"Á°ÆÂÆöË¶ÅÂà†Èô§ËøôÊù°ÂéÜÂè≤ËÆ∞ÂΩïÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ",success:async a=>{if(a.confirm)try{await w({session_id:e.session_id,timestamp:e.timestamp}),uni.showToast({title:"Âà†Èô§ÊàêÂäü",icon:"success"}),await v()}catch(l){t("error","at pages/history/history.vue:269","Âà†Èô§Â§±Ë¥•:",l),uni.showToast({title:l.message||"Âà†Èô§Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï",icon:"none",duration:2e3})}}})})(a)},"üóëÔ∏è Âà†Èô§",8,["onClick"])])]),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("view",{class:"message-section"},[e.createElementVNode("text",{class:"label"},"Áî®Êà∑Ê∂àÊÅØÔºö"),e.createElementVNode("text",{class:"message-text"},e.toDisplayString(a.message),1)]),e.createElementVNode("view",{class:"response-section"},[e.createElementVNode("text",{class:"label"},"Âä©ÊâãÂõûÂ§çÔºö"),e.createElementVNode("view",{class:"response-container"},[e.createElementVNode("text",{class:e.normalizeClass(["response-text",{expanded:N(a)}])},e.toDisplayString(N(a)?a.response:k(a.response)),3),f(a.response)?(e.openBlock(),e.createElementBlock("text",{key:0,class:"expand-btn",onClick:e=>(e=>{const t=V(e);u.value[t]=!u.value[t]})(a)},e.toDisplayString(N(a)?"Êî∂Ëµ∑":"Â±ïÂºÄ"),9,["onClick"])):e.createCommentVNode("",!0)])])])])))),128))]))]),r.value>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"pagination"},[e.createElementVNode("button",{class:"btn btn-outline btn-small",disabled:1===n.value,onClick:s[1]||(s[1]=e=>E(n.value-1))},"‰∏ä‰∏ÄÈ°µ",8,["disabled"]),e.createElementVNode("text",{class:"page-info"},"Á¨¨ "+e.toDisplayString(n.value)+" / "+e.toDisplayString(d.value)+" È°µ (ÂÖ± "+e.toDisplayString(r.value)+" Êù°)",1),e.createElementVNode("button",{class:"btn btn-outline btn-small",disabled:n.value>=d.value,onClick:s[2]||(s[2]=e=>E(n.value+1))},"‰∏ã‰∏ÄÈ°µ",8,["disabled"])])):e.createCommentVNode("",!0)]))}},[["__scopeId","data-v-77f80970"]]),_=V({__name:"rag",setup(a){const l=e.ref([]),o=e.ref([]),n=e.ref(!1),s=e.ref(!1),r=e.ref(1),i=e.ref(20),c=e.ref(0),u=e.ref(""),d=e.ref(!1),m=e.computed((()=>Math.ceil(c.value/i.value))),v=e=>{if(!e)return"";const t=new Date(e),a=new Date-t;return a<6e4?"ÂàöÂàö":a<36e5?`${Math.floor(a/6e4)}ÂàÜÈíüÂâç`:a<864e5?`${Math.floor(a/36e5)}Â∞èÊó∂Ââç`:a<6048e5?`${Math.floor(a/864e5)}Â§©Ââç`:t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},p=()=>{uni.chooseFile({count:1,extension:[".pdf",".doc",".docx",".txt"],success:e=>{if(e.tempFiles&&e.tempFiles.length>0){const t=e.tempFiles[0];if(t.size>52428800)return void uni.showToast({title:"Êñá‰ª∂Â§ßÂ∞è‰∏çËÉΩË∂ÖËøá50MB",icon:"none"});g(t.path)}},fail:e=>{t("error","at pages/rag/rag.vue:192","ÈÄâÊã©Êñá‰ª∂Â§±Ë¥•:",e),uni.showToast({title:e.errMsg||"ÈÄâÊã©Êñá‰ª∂Â§±Ë¥•",icon:"none"})}})},g=async e=>{s.value=!0;try{const t=await y(e);200===t.code?(uni.showToast({title:"‰∏ä‰º†ÊàêÂäü",icon:"success"}),h(!0)):uni.showToast({title:t.message||"‰∏ä‰º†Â§±Ë¥•",icon:"none"})}catch(a){t("error","at pages/rag/rag.vue:220","‰∏ä‰º†ÊñáÊ°£Â§±Ë¥•:",a),uni.showToast({title:a.message||"‰∏ä‰º†Â§±Ë¥•",icon:"none"})}finally{s.value=!1}},h=async(e=!1)=>{e&&(r.value=1),n.value=!0;try{const e=await k({page:r.value,page_size:i.value});200===e.code?(l.value=e.data.items||[],c.value=e.data.total||0):uni.showToast({title:e.message||"Âä†ËΩΩÂ§±Ë¥•",icon:"none"})}catch(a){t("error","at pages/rag/rag.vue:253","Âä†ËΩΩÊñáÊ°£ÂàóË°®Â§±Ë¥•:",a),uni.showToast({title:a.message||"Âä†ËΩΩÂ§±Ë¥•",icon:"none"})}finally{n.value=!1}},w=async()=>{if(u.value.trim()){d.value=!0,n.value=!0;try{const e=await f({query:u.value.trim(),top_k:5});200===e.code?(o.value=e.data.results||[],0===o.value.length&&uni.showToast({title:"Êú™ÊâæÂà∞Áõ∏ÂÖ≥ÊñáÊ°£",icon:"none"})):uni.showToast({title:e.message||"ÊêúÁ¥¢Â§±Ë¥•",icon:"none"})}catch(e){t("error","at pages/rag/rag.vue:297","ÊêúÁ¥¢Â§±Ë¥•:",e),uni.showToast({title:e.message||"ÊêúÁ¥¢Â§±Ë¥•",icon:"none"})}finally{n.value=!1}}else uni.showToast({title:"ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÂÖ≥ÈîÆËØç",icon:"none"})},V=()=>{d.value=!1,u.value="",o.value=[],h(!0)},N=async e=>{try{const t=await E(e);200===t.code?(uni.showToast({title:"Âà†Èô§ÊàêÂäü",icon:"success"}),h(!0)):uni.showToast({title:t.message||"Âà†Èô§Â§±Ë¥•",icon:"none"})}catch(a){t("error","at pages/rag/rag.vue:346","Âà†Èô§ÊñáÊ°£Â§±Ë¥•:",a),uni.showToast({title:a.message||"Âà†Èô§Â§±Ë¥•",icon:"none"})}},b=e=>{e<1||e>m.value||(r.value=e,h())};return e.onMounted((()=>{h()})),(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"rag-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"üìñ Áü•ËØÜÂ∫ì")]),e.createElementVNode("view",{class:"upload-card card"},[e.createElementVNode("view",{class:"upload-section"},[e.createElementVNode("button",{class:"btn btn-primary btn-upload",onClick:p}," üì§ ‰∏ä‰º†ÊñáÊ°£ "),e.createElementVNode("text",{class:"upload-tip"},"ÊîØÊåÅ PDF„ÄÅWord„ÄÅTxt Ê†ºÂºè")]),s.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"upload-status"},[e.createElementVNode("text",null,"‰∏ä‰º†‰∏≠...")])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"search-card card"},[e.createElementVNode("view",{class:"search-box"},[e.withDirectives(e.createElementVNode("input",{class:"search-input","onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),placeholder:"ËæìÂÖ•ÂÖ≥ÈîÆËØçËøõË°åËØ≠‰πâÊ£ÄÁ¥¢...",onConfirm:w},null,544),[[e.vModelText,u.value]]),e.createElementVNode("button",{class:"btn btn-primary btn-small",onClick:w},"üîç ÊêúÁ¥¢")]),d.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"search-tip"},[e.createElementVNode("text",null,"ÊêúÁ¥¢ÂÖ≥ÈîÆËØç: "+e.toDisplayString(u.value),1),e.createElementVNode("text",{class:"cancel-search",onClick:V},"ÂèñÊ∂àÊêúÁ¥¢")])):e.createCommentVNode("",!0)]),d.value&&o.value.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"search-results"},[e.createElementVNode("view",{class:"section-title"},"üîç ÊêúÁ¥¢ÁªìÊûú ("+e.toDisplayString(o.value.length)+" Êù°)",1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"search-result-item card"},[e.createElementVNode("view",{class:"result-header"},[e.createElementVNode("text",{class:"result-score"},"Áõ∏‰ººÂ∫¶: "+e.toDisplayString((100*t.score).toFixed(1))+"%",1),e.createElementVNode("text",{class:"result-file"},e.toDisplayString(t.metadata.file_name),1)]),e.createElementVNode("view",{class:"result-content"},[e.createElementVNode("text",{class:"result-text"},e.toDisplayString(t.content),1)])])))),128))])):e.createCommentVNode("",!0),d.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"documents-section"},[e.createElementVNode("view",{class:"section-title"}," üìö ÊàëÁöÑÊñáÊ°£ (ÂÖ± "+e.toDisplayString(c.value)+" ‰∏™) ",1),n.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading"},[e.createElementVNode("text",null,"Âä†ËΩΩ‰∏≠...")])):0===l.value.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"empty"},[e.createElementVNode("text",null,"ÊöÇÊó†ÊñáÊ°£ÔºåËØ∑‰∏ä‰º†ÊñáÊ°£")])):(e.openBlock(),e.createElementBlock("view",{key:2},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,((t,a)=>{return e.openBlock(),e.createElementBlock("view",{key:t.document_id,class:"document-item card"},[e.createElementVNode("view",{class:"doc-header"},[e.createElementVNode("view",{class:"doc-info"},[e.createElementVNode("text",{class:"doc-name"},e.toDisplayString(t.file_name),1),e.createElementVNode("text",{class:"doc-meta"},e.toDisplayString((l=t.file_size,l?l<1024?l+" B":l<1048576?(l/1024).toFixed(1)+" KB":(l/1048576).toFixed(1)+" MB":"0 B"))+" ¬∑ "+e.toDisplayString(t.chunks_count)+" Âùó ¬∑ "+e.toDisplayString(v(t.uploaded_at)),1)]),e.createElementVNode("button",{class:"btn-delete",onClick:e=>{return a=t.document_id,l=t.file_name,void uni.showModal({title:"Á°ÆËÆ§Âà†Èô§",content:`Á°ÆÂÆöË¶ÅÂà†Èô§ÊñáÊ°£ "${l}" ÂêóÔºü`,success:async e=>{e.confirm&&await N(a)}});var a,l}}," üóëÔ∏è ",8,["onClick"])])]);var l})),128))]))])),!d.value&&c.value>0?(e.openBlock(),e.createElementBlock("view",{key:2,class:"pagination"},[e.createElementVNode("button",{class:"btn btn-outline btn-small",disabled:1===r.value,onClick:a[1]||(a[1]=e=>b(r.value-1))},"‰∏ä‰∏ÄÈ°µ",8,["disabled"]),e.createElementVNode("text",{class:"page-info"},"Á¨¨ "+e.toDisplayString(r.value)+" / "+e.toDisplayString(m.value)+" È°µ (ÂÖ± "+e.toDisplayString(c.value)+" ‰∏™)",1),e.createElementVNode("button",{class:"btn btn-outline btn-small",disabled:r.value>=m.value,onClick:a[2]||(a[2]=e=>b(r.value+1))},"‰∏ã‰∏ÄÈ°µ",8,["disabled"])])):e.createCommentVNode("",!0)]))}},[["__scopeId","data-v-00e93024"]]);__definePage("pages/workspace/workspace",N),__definePage("pages/login/login",x),__definePage("pages/register/register",B),__definePage("pages/history/history",T),__definePage("pages/rag/rag",_);const S={onLaunch:function(){t("log","at App.vue:6","SparkCanvas App Launch"),this.checkLoginStatus()},onShow:function(){t("log","at App.vue:11","SparkCanvas App Show")},onHide:function(){t("log","at App.vue:14","SparkCanvas App Hide")},methods:{checkLoginStatus(){const e=b.getToken(),a=b.getUserInfo();e&&a?t("log","at App.vue:23","Áî®Êà∑Â∑≤ÁôªÂΩï:",a):t("log","at App.vue:25","Áî®Êà∑Êú™ÁôªÂΩï")}}};const{app:C,Vuex:D,Pinia:A}={app:e.createVueApp(S)};uni.Vuex=D,uni.Pinia=A,C.provide("__globalStyles",__uniConfig.styles),C._component.mpType="app",C._component.render=()=>{},C.mount("#app")}(Vue);
