{"version":3,"file":"config.js","sources":["config.js"],"sourcesContent":["/**\r\n * 应用配置\r\n * \r\n * 注意：\r\n * - 在移动设备（真机）上测试时，不能使用 localhost\r\n * - 需要使用开发机器的实际IP地址，例如：http://192.168.1.100:8000\r\n * - 在 HBuilderX 中运行到浏览器时可以使用 localhost\r\n * - 获取本机IP：Windows 运行 ipconfig，Mac/Linux 运行 ifconfig\r\n */\r\nconst config = {\r\n  // API 基础地址\r\n  // 开发环境（浏览器）：http://localhost:8000\r\n  // 开发环境（真机）：http://你的本机IP:8000，例如：http://192.168.1.100:8000\r\n  // 生产环境：需要配置实际的后端地址\r\n  // 可以通过环境变量 API_BASE_URL 覆盖此配置\r\n  BASE_URL: process.env.API_BASE_URL || 'http://localhost:8000',\r\n  \r\n  // 请求超时时间（毫秒）\r\n  // 普通请求：15秒\r\n  // LLM 生成需要较长时间，会在具体接口中单独设置\r\n  TIMEOUT: 15000,\r\n  \r\n  // Token 存储 key\r\n  TOKEN_KEY: 'access_token',\r\n  \r\n  // 用户信息存储 key\r\n  USER_INFO_KEY: 'user_info'\r\n}\r\n\r\n// 开发环境自动检测（仅在 H5 浏览器环境）\r\n// #ifdef H5\r\nif (typeof window !== 'undefined' && window.location) {\r\n  const hostname = window.location.hostname\r\n  // 如果是 localhost 或 127.0.0.1，尝试使用当前页面的 hostname\r\n  // 这样可以支持通过 IP 访问前端时自动使用相同 IP 访问后端\r\n  if (config.BASE_URL.includes('localhost') && hostname !== 'localhost' && hostname !== '127.0.0.1') {\r\n    // 如果前端是通过 IP 访问的，自动使用相同 IP 访问后端\r\n    const protocol = window.location.protocol\r\n    const port = '8000' // 后端端口\r\n    config.BASE_URL = `${protocol}//${hostname}:${port}`\r\n    console.log('自动检测到后端地址:', config.BASE_URL)\r\n  }\r\n}\r\n// #endif\r\n\r\nexport default config\r\n\r\n"],"names":[],"mappings":";;AASK,MAAC,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMb,UAAU,QAAQ,IAAI,gBAAgB;AAAA;AAAA;AAAA;AAAA,EAKtC,SAAS;AAAA;AAAA,EAGT,WAAW;AAAA;AAAA,EAGX,eAAe;AACjB;;"}