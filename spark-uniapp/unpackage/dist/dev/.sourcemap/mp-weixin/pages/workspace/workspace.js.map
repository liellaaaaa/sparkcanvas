{"version":3,"file":"workspace.js","sources":["pages/workspace/workspace.vue","../../../CodeSoftware/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd29ya3NwYWNlL3dvcmtzcGFjZS52dWU"],"sourcesContent":["<template>\r\n  <view class=\"workspace-page\">\r\n    <view class=\"header\">\r\n      <text class=\"title\">‚ú® SparkCanvas Â∑•‰ΩúÂè∞</text>\r\n      <text class=\"subtitle\">‰∏ÄÈîÆÁîüÊàêÁàÜÊ¨æÂÜÖÂÆπ</text>\r\n    </view>\r\n\r\n    <!-- ‰ºöËØù‰ø°ÊÅØÂç°Áâá -->\r\n    <view v-if=\"sessionId\" class=\"session-card card\">\r\n      <view class=\"session-header\">\r\n        <text class=\"session-label\">ÂΩìÂâç‰ºöËØù</text>\r\n        <text class=\"session-id\">{{ sessionId.slice(0, 8) }}...</text>\r\n      </view>\r\n      <view class=\"session-meta\">\r\n        <text>Ê∂àÊÅØÊï∞: {{ sessionInfo.message_count || 0 }}</text>\r\n        <text v-if=\"sessionInfo.last_message_time\">ÊúÄÂêéÊ∂àÊÅØ: {{ formatTime(sessionInfo.last_message_time) }}</text>\r\n      </view>\r\n      <view class=\"session-actions\">\r\n        <button class=\"btn btn-small btn-outline\" @click=\"refreshSessionInfo\">Âà∑Êñ∞Áä∂ÊÄÅ</button>\r\n        <button class=\"btn btn-small btn-outline\" @click=\"createNewSession\">Êñ∞Âª∫‰ºöËØù</button>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ÂÜÖÂÆπÁîüÊàêÂå∫Âüü -->\r\n    <view class=\"content-card card\">\r\n      <view class=\"card-title\">üìù ÂÜÖÂÆπÂàõ‰Ωú</view>\r\n\r\n      <!-- Âπ≥Âè∞ÈÄâÊã© -->\r\n      <view class=\"field-row\">\r\n        <view class=\"field-label\">ÁõÆÊ†áÂπ≥Âè∞</view>\r\n        <view class=\"field-value tags-row\">\r\n          <text\r\n            v-for=\"p in platforms\"\r\n            :key=\"p.value\"\r\n            :class=\"['tag', platform === p.value ? 'tag-primary' : 'tag-default']\"\r\n            @click=\"platform = p.value\"\r\n          >{{ p.label }}</text>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- Á¥†ÊùêÊ∫êÈÄâÊã© -->\r\n      <view class=\"field-row\">\r\n        <view class=\"field-label\">Á¥†ÊùêÊù•Ê∫ê</view>\r\n        <view class=\"field-value tags-row\">\r\n          <text\r\n            v-for=\"s in materialSources\"\r\n            :key=\"s.value\"\r\n            :class=\"['tag', materialSource === s.value ? 'tag-primary' : 'tag-default']\"\r\n            @click=\"materialSource = s.value\"\r\n          >{{ s.label }}</text>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- Áî®Êà∑ËæìÂÖ• -->\r\n      <view class=\"field-row column\">\r\n        <view class=\"field-label\">Âàõ‰ΩúÈúÄÊ±Ç</view>\r\n        <textarea\r\n          class=\"input-area\"\r\n          v-model=\"inputText\"\r\n          placeholder=\"‰æãÂ¶ÇÔºöÂ∏ÆÊàëÂÜô‰∏ÄÁØáÂÖ≥‰∫éÊèêÂçáÂ∞èÁ∫¢‰π¶Á¨îËÆ∞ÁàÜÊ¨æÁéáÁöÑÂøÉÂæóÂàÜ‰∫´\"\r\n          :auto-height=\"true\"\r\n          maxlength=\"-1\"\r\n        />\r\n      </view>\r\n\r\n      <!-- Êìç‰ΩúÊåâÈíÆ -->\r\n      <view class=\"actions-row\">\r\n        <button\r\n          v-if=\"hasResult\"\r\n          class=\"btn btn-secondary\"\r\n          :loading=\"regenerating\"\r\n          :disabled=\"regenerating\"\r\n          @click=\"handleRegenerate\"\r\n        >\r\n          {{ regenerating ? 'ÈáçÊñ∞ÁîüÊàê‰∏≠...' : 'üîÑ ÈáçÊñ∞ÁîüÊàê' }}\r\n        </button>\r\n        <button\r\n          class=\"btn btn-primary\"\r\n          :disabled=\"loading || !inputText.trim()\"\r\n          @click=\"handleGenerate\"\r\n        >\r\n           ÁîüÊàêÂÜÖÂÆπ\r\n        </button>\r\n      </view>\r\n\r\n      <!-- ÁîüÊàêÁªìÊûúÂ±ïÁ§∫ -->\r\n      <view v-if=\"hasResult\" class=\"result-card\">\r\n        <view class=\"result-header\">\r\n          <text class=\"result-label\">ÁîüÊàêÁªìÊûú</text>\r\n          <view class=\"result-actions\">\r\n            <text v-if=\"resultStatus === 'completed'\" class=\"result-status\">ÁîüÊàêÂÆåÊØï</text>\r\n            <button\r\n              v-if=\"resultStatus === 'completed'\"\r\n              class=\"btn-copy\"\r\n              @click=\"handleCopyResult\"\r\n            >\r\n              Â§çÂà∂\r\n            </button>\r\n          </view>\r\n        </view>\r\n        <view class=\"result-title\">{{ resultTitle }}</view>\r\n        <view class=\"result-body\">\r\n          <text v-for=\"(line, idx) in resultBodyLines\" :key=\"idx\">{{ line }}{{ idx < resultBodyLines.length - 1 ? '\\n' : '' }}</text>\r\n        </view>\r\n        <view v-if=\"resultImageUrl\" class=\"result-image\">\r\n          <image :src=\"resultImageUrl\" mode=\"widthFix\" />\r\n        </view>\r\n        <view class=\"result-meta\">\r\n          <text>ÁîüÊàêÊó∂Èó¥: {{ resultTimestamp }}</text>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- Âç†‰ΩçÊèêÁ§∫ -->\r\n      <view v-else class=\"placeholder\">\r\n        <text>ÈÄâÊã©Âπ≥Âè∞ÂíåÁ¥†ÊùêÊù•Ê∫êÔºåËæìÂÖ•Âàõ‰ΩúÈúÄÊ±ÇÔºåÁÇπÂáªÁîüÊàêÊåâÈíÆÂºÄÂßãÂàõ‰Ωú„ÄÇ</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { onLoad } from '@dcloudio/uni-app'\r\nimport http from '../../utils/http.js'\r\n\r\n// ========== Âπ≥Âè∞‰∏éÁ¥†ÊùêÊ∫êÈÄâÈ°π ==========\r\nconst platforms = [\r\n  { label: 'Â∞èÁ∫¢‰π¶', value: 'xiaohongshu' },\r\n  { label: 'ÊäñÈü≥', value: 'douyin' }\r\n]\r\nconst materialSources = [\r\n  { label: 'ËÅîÁΩëÊ£ÄÁ¥¢', value: 'online' },\r\n  { label: 'RAGÁü•ËØÜÂ∫ì', value: 'rag' }\r\n]\r\n\r\n// ========== ÂìçÂ∫îÂºèÁä∂ÊÄÅ ==========\r\nconst sessionId = ref('')\r\nconst sessionInfo = ref({})\r\nconst platform = ref('xiaohongshu')\r\nconst materialSource = ref('online')\r\nconst inputText = ref('')\r\n\r\n// ÁîüÊàêÁõ∏ÂÖ≥\r\nconst loading = ref(false)\r\nconst regenerating = ref(false)\r\nconst hasResult = ref(false)\r\nconst resultTitle = ref('')\r\nconst resultBody = ref('')\r\nconst resultImageUrl = ref('')\r\nconst resultStatus = ref('')\r\nconst resultTimestamp = ref('')\r\n\r\n// ========== ËÆ°ÁÆóÂ±ûÊÄß ==========\r\nconst resultBodyLines = computed(() => {\r\n  return resultBody.value ? resultBody.value.split('\\n') : []\r\n})\r\n\r\n// ========== Â∑•ÂÖ∑ÂáΩÊï∞ ==========\r\nconst formatTime = (isoStr) => {\r\n  if (!isoStr) return ''\r\n  const d = new Date(isoStr)\r\n  return `${d.getMonth() + 1}/${d.getDate()} ${d.getHours()}:${String(d.getMinutes()).padStart(2, '0')}`\r\n}\r\n\r\n// ========== ‰ºöËØùÁÆ°ÁêÜ ==========\r\nconst initSession = async () => {\r\n  try {\r\n    loading.value = true\r\n    const res = await http.createSession()\r\n    sessionId.value = res?.data?.session_id || ''\r\n    if (sessionId.value) {\r\n      sessionInfo.value = {\r\n        created_at: res?.data?.created_at,\r\n        expires_at: res?.data?.expires_at,\r\n        message_count: 0\r\n      }\r\n    }\r\n  } catch (e) {\r\n    console.error('ÂàõÂª∫Â∑•‰ΩúÂè∞‰ºöËØùÂ§±Ë¥•:', e)\r\n    uni.showToast({ title: e?.message || 'ÂàõÂª∫‰ºöËØùÂ§±Ë¥•', icon: 'none' })\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst createNewSession = async () => {\r\n  // Ê∏ÖÁ©∫ÂΩìÂâçÁªìÊûú\r\n  hasResult.value = false\r\n  resultTitle.value = ''\r\n  resultBody.value = ''\r\n  resultImageUrl.value = ''\r\n  inputText.value = ''\r\n  await initSession()\r\n  uni.showToast({ title: 'Â∑≤ÂàõÂª∫Êñ∞‰ºöËØù', icon: 'success' })\r\n}\r\n\r\nconst refreshSessionInfo = async () => {\r\n  if (!sessionId.value) return\r\n  try {\r\n    const res = await http.getSession(sessionId.value)\r\n    if (res?.data) {\r\n      sessionInfo.value = res.data\r\n    }\r\n  } catch (e) {\r\n    console.error('Ëé∑Âèñ‰ºöËØù‰ø°ÊÅØÂ§±Ë¥•:', e)\r\n    uni.showToast({ title: e?.message || 'Ëé∑Âèñ‰ºöËØù‰ø°ÊÅØÂ§±Ë¥•', icon: 'none' })\r\n  }\r\n}\r\n\r\n// ========== ÂÜÖÂÆπÁîüÊàê ==========\r\nconst handleGenerate = async () => {\r\n  if (!inputText.value.trim()) return\r\n  if (!sessionId.value) {\r\n    await initSession()\r\n    if (!sessionId.value) return\r\n  }\r\n\r\n  try {\r\n    loading.value = true\r\n    const payload = {\r\n      session_id: sessionId.value,\r\n      message: inputText.value,\r\n      material_source: materialSource.value,\r\n      platform: platform.value\r\n    }\r\n    const res = await http.sendMessage(payload)\r\n    const content = res?.data?.content\r\n    if (content) {\r\n      resultTitle.value = content.title || ''\r\n      resultBody.value = content.body || ''\r\n      resultImageUrl.value = content.image_url || ''\r\n      resultStatus.value = res?.data?.status || 'completed'\r\n      resultTimestamp.value = formatTime(res?.data?.timestamp)\r\n      hasResult.value = true\r\n      // Âà∑Êñ∞‰ºöËØù‰ø°ÊÅØ\r\n      await refreshSessionInfo()\r\n    } else {\r\n      uni.showToast({ title: 'ÂêéÁ´ØÊú™ËøîÂõûÂÜÖÂÆπ', icon: 'none' })\r\n    }\r\n  } catch (e) {\r\n    console.error('ÂèëÈÄÅÊ∂àÊÅØÂ§±Ë¥•:', e)\r\n    uni.showToast({ title: e?.message || 'ÁîüÊàêÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï', icon: 'none' })\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// ========== ÈáçÊñ∞ÁîüÊàê ==========\r\nconst handleRegenerate = async () => {\r\n  if (!sessionId.value) return\r\n  try {\r\n    regenerating.value = true\r\n    const payload = {\r\n      session_id: sessionId.value,\r\n      adjustments: {\r\n        emotion_intensity: 'high',\r\n        style_preference: platform.value === 'xiaohongshu' ? 'Â∞èÁ∫¢‰π¶ÁàÜÊ¨æ' : 'ÊäñÈü≥ÁÉ≠Èó®'\r\n      }\r\n    }\r\n    const res = await http.regenerate(payload)\r\n    const content = res?.data?.content\r\n    if (content) {\r\n      resultTitle.value = content.title || ''\r\n      resultBody.value = content.body || ''\r\n      resultImageUrl.value = content.image_url || ''\r\n      resultStatus.value = res?.data?.status || 'completed'\r\n      resultTimestamp.value = formatTime(res?.data?.timestamp)\r\n      // Âà∑Êñ∞‰ºöËØù‰ø°ÊÅØ\r\n      await refreshSessionInfo()\r\n      uni.showToast({ title: 'ÈáçÊñ∞ÁîüÊàêÂÆåÊàê', icon: 'success' })\r\n    }\r\n  } catch (e) {\r\n    console.error('ÈáçÊñ∞ÁîüÊàêÂ§±Ë¥•:', e)\r\n    uni.showToast({ title: e?.message || 'ÈáçÊñ∞ÁîüÊàêÂ§±Ë¥•', icon: 'none' })\r\n  } finally {\r\n    regenerating.value = false\r\n  }\r\n}\r\n\r\n// ========== Â§çÂà∂ÁªìÊûú ==========\r\nconst handleCopyResult = () => {\r\n  let content = ''\r\n  if (resultTitle.value) {\r\n    content += resultTitle.value + '\\n\\n'\r\n  }\r\n  if (resultBody.value) {\r\n    content += resultBody.value\r\n  }\r\n  \r\n  if (!content.trim()) {\r\n    uni.showToast({\r\n      title: 'ÂÜÖÂÆπ‰∏∫Á©∫ÔºåÊó†Ê≥ïÂ§çÂà∂',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  uni.setClipboardData({\r\n    data: content,\r\n    success: () => {\r\n      uni.showToast({\r\n        title: 'Â§çÂà∂ÊàêÂäü',\r\n        icon: 'success',\r\n        duration: 1500\r\n      })\r\n    },\r\n    fail: (err) => {\r\n      console.error('Â§çÂà∂Â§±Ë¥•:', err)\r\n      uni.showToast({\r\n        title: 'Â§çÂà∂Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\n// ========== ÁîüÂëΩÂë®Êúü ==========\r\nonLoad(async () => {\r\n  await initSession()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.workspace-page {\r\n  min-height: 100vh;\r\n  padding: 20rpx;\r\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\r\n}\r\n\r\n.header {\r\n  text-align: center;\r\n  margin-bottom: 32rpx;\r\n  padding: 32rpx 0;\r\n}\r\n\r\n.title {\r\n  font-size: 44rpx;\r\n  font-weight: 700;\r\n  color: #3c9cff;\r\n  display: block;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.subtitle {\r\n  font-size: 26rpx;\r\n  color: #888;\r\n}\r\n\r\n.card {\r\n  background: #ffffff;\r\n  border-radius: 24rpx;\r\n  box-shadow: 0 8rpx 30rpx rgba(60, 156, 255, 0.1);\r\n  padding: 32rpx 28rpx;\r\n  margin-bottom: 24rpx;\r\n}\r\n\r\n.card-title {\r\n  font-size: 34rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 28rpx;\r\n  padding-bottom: 16rpx;\r\n  border-bottom: 2rpx dashed #f0f0f0;\r\n}\r\n\r\n/* ‰ºöËØù‰ø°ÊÅØÂç°Áâá */\r\n.session-card {\r\n  padding: 24rpx;\r\n}\r\n\r\n.session-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.session-label {\r\n  font-size: 26rpx;\r\n  color: #666;\r\n}\r\n\r\n.session-id {\r\n  font-size: 24rpx;\r\n  color: #3c9cff;\r\n  font-family: monospace;\r\n}\r\n\r\n.session-meta {\r\n  display: flex;\r\n  gap: 24rpx;\r\n  font-size: 24rpx;\r\n  color: #999;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.session-actions {\r\n  display: flex;\r\n  gap: 16rpx;\r\n}\r\n\r\n/* Â≠óÊÆµË°å */\r\n.field-row {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 24rpx;\r\n}\r\n\r\n.field-row.column {\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n}\r\n\r\n.field-label {\r\n  font-size: 28rpx;\r\n  color: #555;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.field-value {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.tags-row {\r\n  display: flex;\r\n  gap: 16rpx;\r\n}\r\n\r\n.tag {\r\n  padding: 10rpx 24rpx;\r\n  border-radius: 999rpx;\r\n  font-size: 24rpx;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.tag-primary {\r\n  background: linear-gradient(135deg, #3c9cff 0%, #4facfe 100%);\r\n  color: #fff;\r\n}\r\n\r\n.tag-default {\r\n  background-color: #f5f5f5;\r\n  color: #666;\r\n}\r\n\r\n/* ËæìÂÖ•Âå∫Âüü */\r\n.input-area {\r\n  width: 100%;\r\n  min-height: 160rpx;\r\n  border-radius: 16rpx;\r\n  border: 2rpx solid #e5e5e5;\r\n  padding: 20rpx;\r\n  font-size: 28rpx;\r\n  background-color: #fafafa;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* ÊåâÈíÆ */\r\n.actions-row {\r\n  margin-top: 24rpx;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 16rpx;\r\n}\r\n\r\n.btn {\r\n  padding: 0 32rpx;\r\n  height: 72rpx;\r\n  line-height: 72rpx;\r\n  border-radius: 999rpx;\r\n  font-size: 28rpx;\r\n  border: none;\r\n}\r\n\r\n.btn-small {\r\n  height: 56rpx;\r\n  line-height: 56rpx;\r\n  padding: 0 24rpx;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.btn-primary {\r\n  background: linear-gradient(135deg, #3c9cff 0%, #4facfe 100%);\r\n  color: #fff !important;\r\n}\r\n\r\n.btn-primary:disabled {\r\n  color: #fff !important;\r\n}\r\n\r\n.btn-secondary {\r\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\r\n  color: #fff;\r\n}\r\n\r\n.btn-outline {\r\n  background: transparent;\r\n  border: 2rpx solid #3c9cff;\r\n  color: #3c9cff;\r\n}\r\n\r\n/* ÁªìÊûúÂç°Áâá */\r\n.result-card {\r\n  margin-top: 32rpx;\r\n  padding: 24rpx;\r\n  border-radius: 16rpx;\r\n  background: linear-gradient(135deg, #f9fbff 0%, #f0f7ff 100%);\r\n  border: 2rpx solid rgba(60, 156, 255, 0.15);\r\n}\r\n\r\n.result-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.result-label {\r\n  font-size: 26rpx;\r\n  color: #666;\r\n}\r\n\r\n.result-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n}\r\n\r\n.result-status {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 22rpx;\r\n  color: #52c41a;\r\n  background-color: rgba(82, 196, 26, 0.1);\r\n  padding: 6rpx 16rpx;\r\n  border-radius: 999rpx;\r\n  height: 40rpx;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.btn-copy {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 22rpx;\r\n  color: #52c41a;\r\n  background-color: rgba(82, 196, 26, 0.1);\r\n  padding: 6rpx 16rpx;\r\n  border-radius: 999rpx;\r\n  border: none;\r\n  cursor: pointer;\r\n  height: 40rpx;\r\n  box-sizing: border-box;\r\n  font-weight: normal;\r\n}\r\n\r\n.result-title {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 16rpx;\r\n  line-height: 1.4;\r\n}\r\n\r\n.result-body {\r\n  font-size: 28rpx;\r\n  color: #555;\r\n  line-height: 1.7;\r\n  white-space: pre-wrap;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.result-image {\r\n  margin: 16rpx 0;\r\n}\r\n\r\n.result-image image {\r\n  width: 100%;\r\n  border-radius: 12rpx;\r\n}\r\n\r\n.result-meta {\r\n  font-size: 22rpx;\r\n  color: #999;\r\n  text-align: right;\r\n}\r\n\r\n/* Âç†‰ΩçÊèêÁ§∫ */\r\n.placeholder {\r\n  text-align: center;\r\n  padding: 60rpx 20rpx;\r\n  color: #999;\r\n  font-size: 26rpx;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/Deployment/sparkcanvas/spark-uniapp/pages/workspace/workspace.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","http","uni","onLoad"],"mappings":"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"}