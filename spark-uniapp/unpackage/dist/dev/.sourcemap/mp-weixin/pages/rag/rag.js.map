{"version":3,"file":"rag.js","sources":["pages/rag/rag.vue","../../../CodeSoftware/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmFnL3JhZy52dWU"],"sourcesContent":["<template>\r\n  <view class=\"rag-page\">\r\n    <view class=\"header\">\r\n      <text class=\"title\">üìñ Áü•ËØÜÂ∫ì</text>\r\n    </view>\r\n    \r\n    <!-- ‰∏ä‰º†ÊñáÊ°£Âç°Áâá -->\r\n    <view class=\"upload-card card\">\r\n      <view class=\"upload-section\">\r\n        <button class=\"btn btn-primary btn-upload\" @click=\"handleChooseFile\">\r\n          üì§ ‰∏ä‰º†ÊñáÊ°£\r\n        </button>\r\n        <text class=\"upload-tip\">ÊîØÊåÅ PDF„ÄÅWord„ÄÅTxt Ê†ºÂºè</text>\r\n      </view>\r\n      <view v-if=\"uploading\" class=\"upload-status\">\r\n        <text>‰∏ä‰º†‰∏≠...</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ËØ≠‰πâÊ£ÄÁ¥¢Âç°Áâá -->\r\n    <view class=\"search-card card\">\r\n      <view class=\"search-box\">\r\n        <input\r\n          class=\"search-input\"\r\n          v-model=\"searchQuery\"\r\n          placeholder=\"ËæìÂÖ•ÂÖ≥ÈîÆËØçËøõË°åËØ≠‰πâÊ£ÄÁ¥¢...\"\r\n          @confirm=\"handleSearch\"\r\n        />\r\n        <button class=\"btn btn-primary btn-small\" @click=\"handleSearch\">üîç ÊêúÁ¥¢</button>\r\n      </view>\r\n      <view v-if=\"isSearchMode\" class=\"search-tip\">\r\n        <text>ÊêúÁ¥¢ÂÖ≥ÈîÆËØç: {{ searchQuery }}</text>\r\n        <text class=\"cancel-search\" @click=\"cancelSearch\">ÂèñÊ∂àÊêúÁ¥¢</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ÊêúÁ¥¢ÁªìÊûú -->\r\n    <view v-if=\"isSearchMode && searchResults.length > 0\" class=\"search-results\">\r\n      <view class=\"section-title\">üîç ÊêúÁ¥¢ÁªìÊûú ({{ searchResults.length }} Êù°)</view>\r\n      <view\r\n        v-for=\"(result, index) in searchResults\"\r\n        :key=\"index\"\r\n        class=\"search-result-item card\"\r\n      >\r\n        <view class=\"result-header\">\r\n          <text class=\"result-score\">Ë∑ùÁ¶ªÂÄº: {{ formatDistance(result.distance) }}</text>\r\n          <text class=\"result-file\">{{ result.metadata.file_name }}</text>\r\n        </view>\r\n        <view class=\"result-content\">\r\n          <text class=\"result-text\">{{ result.content }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ÊñáÊ°£ÂàóË°® -->\r\n    <view v-if=\"!isSearchMode\" class=\"documents-section\">\r\n      <view class=\"section-title\">\r\n        üìö ÊàëÁöÑÊñáÊ°£ (ÂÖ± {{ total }} ‰∏™)\r\n      </view>\r\n      \r\n      <view v-if=\"loading\" class=\"loading\">\r\n        <text>Âä†ËΩΩ‰∏≠...</text>\r\n      </view>\r\n      \r\n      <view v-else-if=\"documentList.length === 0\" class=\"empty\">\r\n        <text>ÊöÇÊó†ÊñáÊ°£ÔºåËØ∑‰∏ä‰º†ÊñáÊ°£</text>\r\n      </view>\r\n      \r\n      <view v-else>\r\n        <view\r\n          v-for=\"(doc, index) in documentList\"\r\n          :key=\"doc.document_id\"\r\n          class=\"document-item card\"\r\n        >\r\n          <view class=\"doc-header\">\r\n            <view class=\"doc-info\">\r\n              <text class=\"doc-name\">{{ doc.file_name }}</text>\r\n              <text class=\"doc-meta\">\r\n                {{ formatFileSize(doc.file_size) }} ¬∑ {{ doc.chunks_count }} Âùó ¬∑ {{ formatTime(doc.uploaded_at) }}\r\n              </text>\r\n            </view>\r\n            <button \r\n              class=\"btn-delete\" \r\n              @click=\"handleDelete(doc.document_id, doc.file_name)\"\r\n            >\r\n              üóëÔ∏è\r\n            </button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ÂàÜÈ°µ -->\r\n    <view v-if=\"!isSearchMode && total > 0\" class=\"pagination\">\r\n      <button\r\n        class=\"btn btn-outline btn-small\"\r\n        :disabled=\"page === 1\"\r\n        @click=\"loadPage(page - 1)\"\r\n      >‰∏ä‰∏ÄÈ°µ</button>\r\n      <text class=\"page-info\">Á¨¨ {{ page }} / {{ totalPages }} È°µ (ÂÖ± {{ total }} ‰∏™)</text>\r\n      <button\r\n        class=\"btn btn-outline btn-small\"\r\n        :disabled=\"page >= totalPages\"\r\n        @click=\"loadPage(page + 1)\"\r\n      >‰∏ã‰∏ÄÈ°µ</button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport http from '@/utils/http.js'\r\n\r\n// Êï∞ÊçÆ\r\nconst documentList = ref([])\r\nconst searchResults = ref([])\r\nconst loading = ref(false)\r\nconst uploading = ref(false)\r\nconst page = ref(1)\r\nconst pageSize = ref(20)\r\nconst total = ref(0)\r\nconst searchQuery = ref('')\r\nconst isSearchMode = ref(false)\r\n\r\n// ËÆ°ÁÆóÊÄªÈ°µÊï∞\r\nconst totalPages = computed(() => {\r\n  return Math.ceil(total.value / pageSize.value)\r\n})\r\n\r\n// Ê†ºÂºèÂåñÊñá‰ª∂Â§ßÂ∞è\r\nconst formatFileSize = (bytes) => {\r\n  if (!bytes) return '0 B'\r\n  if (bytes < 1024) return bytes + ' B'\r\n  if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB'\r\n  return (bytes / (1024 * 1024)).toFixed(1) + ' MB'\r\n}\r\n\r\n// Ê†ºÂºèÂåñË∑ùÁ¶ªÂÄºÔºå‰øùÁïô3‰ΩçÂ∞èÊï∞ÔºåÊï∞ÂÄºË∂äÂ∞èË°®Á§∫Ë∂äÁõ∏‰ºº\r\nconst formatDistance = (distance) => {\r\n  const value = Number(distance)\r\n  if (Number.isNaN(value)) return '-'\r\n  return value.toFixed(3)\r\n}\r\n\r\n// Ê†ºÂºèÂåñÊó∂Èó¥\r\nconst formatTime = (timeStr) => {\r\n  if (!timeStr) return ''\r\n  const date = new Date(timeStr)\r\n  const now = new Date()\r\n  const diff = now - date\r\n  \r\n  // Â∞è‰∫é1ÂàÜÈíü\r\n  if (diff < 60000) {\r\n    return 'ÂàöÂàö'\r\n  }\r\n  // Â∞è‰∫é1Â∞èÊó∂\r\n  if (diff < 3600000) {\r\n    return `${Math.floor(diff / 60000)}ÂàÜÈíüÂâç`\r\n  }\r\n  // Â∞è‰∫é1Â§©\r\n  if (diff < 86400000) {\r\n    return `${Math.floor(diff / 3600000)}Â∞èÊó∂Ââç`\r\n  }\r\n  // Â∞è‰∫é7Â§©\r\n  if (diff < 604800000) {\r\n    return `${Math.floor(diff / 86400000)}Â§©Ââç`\r\n  }\r\n  // ÊòæÁ§∫ÂÖ∑‰ΩìÊó•Êúü\r\n  return date.toLocaleDateString('zh-CN', {\r\n    year: 'numeric',\r\n    month: '2-digit',\r\n    day: '2-digit',\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  })\r\n}\r\n\r\n// ÈÄâÊã©Êñá‰ª∂\r\nconst handleChooseFile = () => {\r\n  // uni.chooseFile ÊîØÊåÅ H5„ÄÅÂ∞èÁ®ãÂ∫è„ÄÅApp Â§öÂπ≥Âè∞\r\n  uni.chooseFile({\r\n    count: 1,\r\n    extension: ['.pdf', '.doc', '.docx', '.txt'],\r\n    success: (res) => {\r\n      if (res.tempFiles && res.tempFiles.length > 0) {\r\n        const file = res.tempFiles[0]\r\n        // Ê£ÄÊü•Êñá‰ª∂Â§ßÂ∞èÔºàÈôêÂà∂50MBÔºâ\r\n        if (file.size > 50 * 1024 * 1024) {\r\n          uni.showToast({\r\n            title: 'Êñá‰ª∂Â§ßÂ∞è‰∏çËÉΩË∂ÖËøá50MB',\r\n            icon: 'none'\r\n          })\r\n          return\r\n        }\r\n        uploadDocument(file.path)\r\n      }\r\n    },\r\n    fail: (err) => {\r\n      console.error('ÈÄâÊã©Êñá‰ª∂Â§±Ë¥•:', err)\r\n      uni.showToast({\r\n        title: err.errMsg || 'ÈÄâÊã©Êñá‰ª∂Â§±Ë¥•',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\n// ‰∏ä‰º†ÊñáÊ°£\r\nconst uploadDocument = async (filePath) => {\r\n  uploading.value = true\r\n  try {\r\n    const response = await http.uploadDocument(filePath)\r\n    if (response.code === 200) {\r\n      uni.showToast({\r\n        title: '‰∏ä‰º†ÊàêÂäü',\r\n        icon: 'success'\r\n      })\r\n      // Âà∑Êñ∞ÊñáÊ°£ÂàóË°®\r\n      loadDocuments(true)\r\n    } else {\r\n      uni.showToast({\r\n        title: response.message || '‰∏ä‰º†Â§±Ë¥•',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  } catch (error) {\r\n    console.error('‰∏ä‰º†ÊñáÊ°£Â§±Ë¥•:', error)\r\n    uni.showToast({\r\n      title: error.message || '‰∏ä‰º†Â§±Ë¥•',\r\n      icon: 'none'\r\n    })\r\n  } finally {\r\n    uploading.value = false\r\n  }\r\n}\r\n\r\n// Âä†ËΩΩÊñáÊ°£ÂàóË°®\r\nconst loadDocuments = async (resetPage = false) => {\r\n  if (resetPage) {\r\n    page.value = 1\r\n  }\r\n  \r\n  loading.value = true\r\n  try {\r\n    const response = await http.getDocuments({\r\n      page: page.value,\r\n      page_size: pageSize.value\r\n    })\r\n    \r\n    if (response.code === 200) {\r\n      documentList.value = response.data.items || []\r\n      total.value = response.data.total || 0\r\n    } else {\r\n      uni.showToast({\r\n        title: response.message || 'Âä†ËΩΩÂ§±Ë¥•',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  } catch (error) {\r\n    console.error('Âä†ËΩΩÊñáÊ°£ÂàóË°®Â§±Ë¥•:', error)\r\n    uni.showToast({\r\n      title: error.message || 'Âä†ËΩΩÂ§±Ë¥•',\r\n      icon: 'none'\r\n    })\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// ËØ≠‰πâÊ£ÄÁ¥¢\r\nconst handleSearch = async () => {\r\n  if (!searchQuery.value.trim()) {\r\n    uni.showToast({\r\n      title: 'ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÂÖ≥ÈîÆËØç',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  isSearchMode.value = true\r\n  loading.value = true\r\n  \r\n  try {\r\n    const response = await http.searchRAG({\r\n      query: searchQuery.value.trim(),\r\n      top_k: 5\r\n    })\r\n    \r\n    if (response.code === 200) {\r\n      searchResults.value = response.data.results || []\r\n      if (searchResults.value.length === 0) {\r\n        uni.showToast({\r\n          title: 'Êú™ÊâæÂà∞Áõ∏ÂÖ≥ÊñáÊ°£',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    } else {\r\n      uni.showToast({\r\n        title: response.message || 'ÊêúÁ¥¢Â§±Ë¥•',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  } catch (error) {\r\n    console.error('ÊêúÁ¥¢Â§±Ë¥•:', error)\r\n    uni.showToast({\r\n      title: error.message || 'ÊêúÁ¥¢Â§±Ë¥•',\r\n      icon: 'none'\r\n    })\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// ÂèñÊ∂àÊêúÁ¥¢\r\nconst cancelSearch = () => {\r\n  isSearchMode.value = false\r\n  searchQuery.value = ''\r\n  searchResults.value = []\r\n  loadDocuments(true)\r\n}\r\n\r\n// Âà†Èô§ÊñáÊ°£\r\nconst handleDelete = (documentId, fileName) => {\r\n  uni.showModal({\r\n    title: 'Á°ÆËÆ§Âà†Èô§',\r\n    content: `Á°ÆÂÆöË¶ÅÂà†Èô§ÊñáÊ°£ \"${fileName}\" ÂêóÔºü`,\r\n    success: async (res) => {\r\n      if (res.confirm) {\r\n        await deleteDocument(documentId)\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// ÊâßË°åÂà†Èô§\r\nconst deleteDocument = async (documentId) => {\r\n  try {\r\n    const response = await http.deleteDocument(documentId)\r\n    if (response.code === 200) {\r\n      uni.showToast({\r\n        title: 'Âà†Èô§ÊàêÂäü',\r\n        icon: 'success'\r\n      })\r\n      // Âà∑Êñ∞ÊñáÊ°£ÂàóË°®\r\n      loadDocuments(true)\r\n    } else {\r\n      uni.showToast({\r\n        title: response.message || 'Âà†Èô§Â§±Ë¥•',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  } catch (error) {\r\n    console.error('Âà†Èô§ÊñáÊ°£Â§±Ë¥•:', error)\r\n    uni.showToast({\r\n      title: error.message || 'Âà†Èô§Â§±Ë¥•',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n// Âä†ËΩΩÊåáÂÆöÈ°µ\r\nconst loadPage = (newPage) => {\r\n  if (newPage < 1 || newPage > totalPages.value) {\r\n    return\r\n  }\r\n  page.value = newPage\r\n  loadDocuments()\r\n}\r\n\r\n// È°µÈù¢Âä†ËΩΩÊó∂Ëé∑ÂèñÊï∞ÊçÆ\r\nonMounted(() => {\r\n  loadDocuments()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.rag-page {\r\n  min-height: 100vh;\r\n  padding: 20rpx;\r\n  background: #f8f8f8;\r\n  padding-bottom: 120rpx;\r\n}\r\n\r\n.header {\r\n  text-align: center;\r\n  margin-bottom: 30rpx;\r\n  padding: 40rpx 0 20rpx;\r\n}\r\n\r\n.title {\r\n  font-size: 48rpx;\r\n  font-weight: 700;\r\n  color: #333;\r\n}\r\n\r\n.card {\r\n  background: #ffffff;\r\n  border-radius: 24rpx;\r\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\r\n  padding: 30rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.upload-card {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.upload-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 20rpx;\r\n}\r\n\r\n.btn {\r\n  padding: 16rpx 32rpx;\r\n  border-radius: 12rpx;\r\n  font-size: 28rpx;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-primary {\r\n  background: #007aff;\r\n  color: #ffffff;\r\n}\r\n\r\n.btn-outline {\r\n  background: transparent;\r\n  border: 2rpx solid #007aff;\r\n  color: #007aff;\r\n}\r\n\r\n.btn-small {\r\n  padding: 12rpx 24rpx;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.btn-upload {\r\n  width: 100%;\r\n  padding: 24rpx;\r\n  font-size: 32rpx;\r\n}\r\n\r\n.upload-tip {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.upload-status {\r\n  margin-top: 20rpx;\r\n  text-align: center;\r\n  color: #007aff;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.search-card {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.search-box {\r\n  display: flex;\r\n  gap: 20rpx;\r\n  align-items: center;\r\n}\r\n\r\n.search-input {\r\n  flex: 1;\r\n  height: 70rpx;\r\n  padding: 0 20rpx;\r\n  background: #f5f5f5;\r\n  border-radius: 12rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.search-tip {\r\n  margin-top: 20rpx;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.cancel-search {\r\n  color: #007aff;\r\n  text-decoration: underline;\r\n}\r\n\r\n.section-title {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n  padding: 0 10rpx;\r\n}\r\n\r\n.search-results {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.search-result-item {\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.result-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15rpx;\r\n  padding-bottom: 15rpx;\r\n  border-bottom: 1rpx solid #eee;\r\n}\r\n\r\n.result-score {\r\n  font-size: 24rpx;\r\n  color: #007aff;\r\n  font-weight: 600;\r\n}\r\n\r\n.result-file {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.result-content {\r\n  margin-top: 15rpx;\r\n}\r\n\r\n.result-text {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  line-height: 1.6;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 5;\r\n  overflow: hidden;\r\n}\r\n\r\n.documents-section {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.loading, .empty {\r\n  text-align: center;\r\n  padding: 60rpx 0;\r\n  color: #999;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.document-item {\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.doc-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n}\r\n\r\n.doc-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10rpx;\r\n}\r\n\r\n.doc-name {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.doc-meta {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.btn-delete {\r\n  padding: 10rpx 20rpx;\r\n  background: transparent;\r\n  border: none;\r\n  font-size: 32rpx;\r\n  cursor: pointer;\r\n}\r\n\r\n.pagination {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 30rpx 20rpx;\r\n  background: #ffffff;\r\n  border-radius: 24rpx;\r\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.page-info {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/Deployment/sparkcanvas/spark-uniapp/pages/rag/rag.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni","http","onMounted"],"mappings":"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"}