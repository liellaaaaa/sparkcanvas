{"version":3,"file":"history.js","sources":["pages/history/history.vue","../../../CodeSoftware/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaGlzdG9yeS9oaXN0b3J5LnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"history-page\">\r\n    <view class=\"header\">\r\n      <text class=\"title\">üìö ÂéÜÂè≤ËÆ∞ÂΩï</text>\r\n    </view>\r\n    \r\n    <!-- ÊêúÁ¥¢Ê†è -->\r\n    <view class=\"search-card card\">\r\n      <view class=\"search-box\">\r\n        <input\r\n          class=\"search-input\"\r\n          v-model=\"searchKeyword\"\r\n          placeholder=\"ÊêúÁ¥¢ÂéÜÂè≤ËÆ∞ÂΩï...\"\r\n          @confirm=\"handleSearch\"\r\n        />\r\n        <button class=\"btn btn-primary btn-small\" @click=\"handleSearch\">üîç ÊêúÁ¥¢</button>\r\n      </view>\r\n      <view v-if=\"isSearchMode\" class=\"search-tip\">\r\n        <text>ÊêúÁ¥¢ÂÖ≥ÈîÆËØç: {{ searchKeyword }}</text>\r\n        <text class=\"cancel-search\" @click=\"cancelSearch\">ÂèñÊ∂àÊêúÁ¥¢</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ÂéÜÂè≤ËÆ∞ÂΩïÂàóË°® -->\r\n    <view class=\"history-list\">\r\n      <view v-if=\"loading\" class=\"loading\">\r\n        <text>Âä†ËΩΩ‰∏≠...</text>\r\n      </view>\r\n      \r\n      <view v-else-if=\"historyList.length === 0\" class=\"empty\">\r\n        <text>ÊöÇÊó†ÂéÜÂè≤ËÆ∞ÂΩï</text>\r\n      </view>\r\n      \r\n      <view v-else>\r\n        <view\r\n          v-for=\"(item, index) in historyList\"\r\n          :key=\"`${item.session_id}-${item.timestamp}`\"\r\n          class=\"history-item card\"\r\n        >\r\n          <view class=\"item-header\">\r\n            <text class=\"session-tag\">‰ºöËØù: {{ item.session_id.slice(0, 8) }}...</text>\r\n            <view class=\"header-right\">\r\n              <text class=\"time-text\">{{ formatTime(item.timestamp) }}</text>\r\n              <button class=\"btn-delete\" @click=\"handleDelete(item)\">üóëÔ∏è Âà†Èô§</button>\r\n            </view>\r\n          </view>\r\n          \r\n          <view class=\"item-content\">\r\n            <view class=\"message-section\">\r\n              <text class=\"label\">Áî®Êà∑Ê∂àÊÅØÔºö</text>\r\n              <text class=\"message-text\">{{ item.message }}</text>\r\n            </view>\r\n            \r\n            <view class=\"response-section\">\r\n              <text class=\"label\">Âä©ÊâãÂõûÂ§çÔºö</text>\r\n              <view class=\"response-container\">\r\n                <text class=\"response-text\" :class=\"{ 'expanded': isExpanded(item) }\">\r\n                  {{ isExpanded(item) ? item.response : getPreviewText(item.response) }}\r\n                </text>\r\n                <view class=\"action-buttons\">\r\n                  <text \r\n                    class=\"action-btn copy-btn\" \r\n                    @click=\"handleCopy(item)\"\r\n                  >\r\n                    Â§çÂà∂\r\n                  </text>\r\n                  <text \r\n                    v-if=\"needsExpand(item.response)\" \r\n                    class=\"action-btn expand-btn\" \r\n                    @click=\"toggleExpand(item)\"\r\n                  >\r\n                    {{ isExpanded(item) ? 'Êî∂Ëµ∑' : 'Â±ïÂºÄ' }}\r\n                  </text>\r\n                </view>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ÂàÜÈ°µ -->\r\n    <view v-if=\"total > 0\" class=\"pagination\">\r\n      <button\r\n        class=\"btn btn-outline btn-small\"\r\n        :disabled=\"page === 1\"\r\n        @click=\"loadPage(page - 1)\"\r\n      >‰∏ä‰∏ÄÈ°µ</button>\r\n      <text class=\"page-info\">Á¨¨ {{ page }} / {{ totalPages }} È°µ (ÂÖ± {{ total }} Êù°)</text>\r\n      <button\r\n        class=\"btn btn-outline btn-small\"\r\n        :disabled=\"page >= totalPages\"\r\n        @click=\"loadPage(page + 1)\"\r\n      >‰∏ã‰∏ÄÈ°µ</button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport http from '@/utils/http.js'\r\n\r\n// Êï∞ÊçÆ\r\nconst historyList = ref([])\r\nconst loading = ref(false)\r\nconst page = ref(1)\r\nconst pageSize = ref(20)\r\nconst total = ref(0)\r\nconst searchKeyword = ref('')\r\nconst isSearchMode = ref(false)\r\nconst expandedItems = ref({}) // ËÆ∞ÂΩïÊØè‰∏™itemÊòØÂê¶Â±ïÂºÄ\r\n\r\n// ËÆ°ÁÆóÊÄªÈ°µÊï∞\r\nconst totalPages = ref(0)\r\n\r\n// Ê†ºÂºèÂåñÊó∂Èó¥\r\nconst formatTime = (timeStr) => {\r\n  if (!timeStr) return ''\r\n  const date = new Date(timeStr)\r\n  const now = new Date()\r\n  const diff = now - date\r\n  \r\n  // Â∞è‰∫é1ÂàÜÈíü\r\n  if (diff < 60000) {\r\n    return 'ÂàöÂàö'\r\n  }\r\n  // Â∞è‰∫é1Â∞èÊó∂\r\n  if (diff < 3600000) {\r\n    return `${Math.floor(diff / 60000)}ÂàÜÈíüÂâç`\r\n  }\r\n  // Â∞è‰∫é1Â§©\r\n  if (diff < 86400000) {\r\n    return `${Math.floor(diff / 3600000)}Â∞èÊó∂Ââç`\r\n  }\r\n  // Â∞è‰∫é7Â§©\r\n  if (diff < 604800000) {\r\n    return `${Math.floor(diff / 86400000)}Â§©Ââç`\r\n  }\r\n  // ÊòæÁ§∫ÂÖ∑‰ΩìÊó•Êúü\r\n  return date.toLocaleDateString('zh-CN', {\r\n    year: 'numeric',\r\n    month: '2-digit',\r\n    day: '2-digit',\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  })\r\n}\r\n\r\n// Âä†ËΩΩÂéÜÂè≤ËÆ∞ÂΩï\r\nconst loadHistory = async (resetPage = false) => {\r\n  if (resetPage) {\r\n    page.value = 1\r\n  }\r\n  \r\n  loading.value = true\r\n  try {\r\n    let response\r\n    if (isSearchMode.value && searchKeyword.value.trim()) {\r\n      // ÊêúÁ¥¢Ê®°Âºè\r\n      response = await http.searchHistory({\r\n        keyword: searchKeyword.value.trim(),\r\n        page: page.value,\r\n        page_size: pageSize.value\r\n      })\r\n    } else {\r\n      // Êü•ËØ¢Ê®°Âºè\r\n      response = await http.getConversations({\r\n        page: page.value,\r\n        page_size: pageSize.value\r\n      })\r\n    }\r\n    \r\n    if (response.code === 200) {\r\n      historyList.value = response.data.items || []\r\n      total.value = response.data.total || 0\r\n      totalPages.value = Math.ceil(total.value / pageSize.value)\r\n      // ÈáçÁΩÆÂ±ïÂºÄÁä∂ÊÄÅ\r\n      expandedItems.value = {}\r\n    } else {\r\n      uni.showToast({\r\n        title: response.message || 'Âä†ËΩΩÂ§±Ë¥•',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  } catch (error) {\r\n    console.error('Âä†ËΩΩÂéÜÂè≤ËÆ∞ÂΩïÂ§±Ë¥•:', error)\r\n    uni.showToast({\r\n      title: error.message || 'Âä†ËΩΩÂ§±Ë¥•',\r\n      icon: 'none'\r\n    })\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// ÊêúÁ¥¢\r\nconst handleSearch = () => {\r\n  if (!searchKeyword.value.trim()) {\r\n    uni.showToast({\r\n      title: 'ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÂÖ≥ÈîÆËØç',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  isSearchMode.value = true\r\n  loadHistory(true)\r\n}\r\n\r\n// ÂèñÊ∂àÊêúÁ¥¢\r\nconst cancelSearch = () => {\r\n  isSearchMode.value = false\r\n  searchKeyword.value = ''\r\n  loadHistory(true)\r\n}\r\n\r\n// Âä†ËΩΩÊåáÂÆöÈ°µ\r\nconst loadPage = (newPage) => {\r\n  if (newPage < 1 || newPage > totalPages.value) {\r\n    return\r\n  }\r\n  page.value = newPage\r\n  loadHistory()\r\n}\r\n\r\n// Ëé∑ÂèñÈ¢ÑËßàÊñáÊú¨ÔºàÂâç5Ë°åÔºâ\r\nconst getPreviewText = (text) => {\r\n  if (!text) return ''\r\n  const lines = text.split('\\n')\r\n  if (lines.length <= 5) {\r\n    return text\r\n  }\r\n  return lines.slice(0, 5).join('\\n')\r\n}\r\n\r\n// Âà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÂ±ïÂºÄÊåâÈíÆ\r\nconst needsExpand = (text) => {\r\n  if (!text) return false\r\n  const lines = text.split('\\n')\r\n  return lines.length > 5\r\n}\r\n\r\n// Ëé∑ÂèñÂîØ‰∏ÄÊ†áËØÜ\r\nconst getItemKey = (item) => {\r\n  return `${item.session_id}-${item.timestamp}`\r\n}\r\n\r\n// Âà§Êñ≠ÊòØÂê¶Â±ïÂºÄ\r\nconst isExpanded = (item) => {\r\n  return expandedItems.value[getItemKey(item)] || false\r\n}\r\n\r\n// ÂàáÊç¢Â±ïÂºÄ/Êî∂Ëµ∑\r\nconst toggleExpand = (item) => {\r\n  const key = getItemKey(item)\r\n  expandedItems.value[key] = !expandedItems.value[key]\r\n}\r\n\r\n// ‰∏ÄÈîÆÂ§çÂà∂\r\nconst handleCopy = (item) => {\r\n  const content = item.response || ''\r\n  if (!content) {\r\n    uni.showToast({\r\n      title: 'ÂÜÖÂÆπ‰∏∫Á©∫ÔºåÊó†Ê≥ïÂ§çÂà∂',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  uni.setClipboardData({\r\n    data: content,\r\n    success: () => {\r\n      uni.showToast({\r\n        title: 'Â§çÂà∂ÊàêÂäü',\r\n        icon: 'success',\r\n        duration: 1500\r\n      })\r\n    },\r\n    fail: (err) => {\r\n      console.error('Â§çÂà∂Â§±Ë¥•:', err)\r\n      uni.showToast({\r\n        title: 'Â§çÂà∂Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\n// Âà†Èô§ÂéÜÂè≤ËÆ∞ÂΩï\r\nconst handleDelete = (item) => {\r\n  uni.showModal({\r\n    title: 'Á°ÆËÆ§Âà†Èô§',\r\n    content: 'Á°ÆÂÆöË¶ÅÂà†Èô§ËøôÊù°ÂéÜÂè≤ËÆ∞ÂΩïÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ',\r\n    success: async (res) => {\r\n      if (res.confirm) {\r\n        try {\r\n          await http.deleteHistory({\r\n            session_id: item.session_id,\r\n            timestamp: item.timestamp\r\n          })\r\n          uni.showToast({\r\n            title: 'Âà†Èô§ÊàêÂäü',\r\n            icon: 'success'\r\n          })\r\n          // ÈáçÊñ∞Âä†ËΩΩÂàóË°®\r\n          await loadHistory()\r\n        } catch (error) {\r\n          console.error('Âà†Èô§Â§±Ë¥•:', error)\r\n          uni.showToast({\r\n            title: error.message || 'Âà†Èô§Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï',\r\n            icon: 'none',\r\n            duration: 2000\r\n          })\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// È°µÈù¢Âä†ËΩΩÊó∂Ëé∑ÂèñÊï∞ÊçÆ\r\nonMounted(() => {\r\n  loadHistory()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.history-page {\r\n  min-height: 100vh;\r\n  padding: 20rpx;\r\n  background: #f8f8f8;\r\n  padding-bottom: 120rpx;\r\n}\r\n\r\n.header {\r\n  text-align: center;\r\n  margin-bottom: 30rpx;\r\n  padding: 40rpx 0 20rpx;\r\n}\r\n\r\n.title {\r\n  font-size: 48rpx;\r\n  font-weight: 700;\r\n  color: #333;\r\n}\r\n\r\n.card {\r\n  background: #ffffff;\r\n  border-radius: 24rpx;\r\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\r\n  padding: 30rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.search-card {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.search-box {\r\n  display: flex;\r\n  gap: 20rpx;\r\n  align-items: center;\r\n}\r\n\r\n.search-input {\r\n  flex: 1;\r\n  height: 70rpx;\r\n  padding: 0 20rpx;\r\n  background: #f5f5f5;\r\n  border-radius: 12rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.btn {\r\n  padding: 16rpx 32rpx;\r\n  border-radius: 12rpx;\r\n  font-size: 28rpx;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-primary {\r\n  background: #007aff;\r\n  color: #ffffff;\r\n}\r\n\r\n.btn-outline {\r\n  background: transparent;\r\n  border: 2rpx solid #007aff;\r\n  color: #007aff;\r\n}\r\n\r\n.btn-small {\r\n  padding: 12rpx 24rpx;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.search-tip {\r\n  margin-top: 20rpx;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.cancel-search {\r\n  color: #007aff;\r\n  text-decoration: underline;\r\n}\r\n\r\n.history-list {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.history-item {\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.item-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n  padding-bottom: 15rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20rpx;\r\n}\r\n\r\n.session-tag {\r\n  font-size: 24rpx;\r\n  color: #007aff;\r\n  background: #e6f3ff;\r\n  padding: 6rpx 12rpx;\r\n  border-radius: 6rpx;\r\n}\r\n\r\n.time-text {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.item-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20rpx;\r\n}\r\n\r\n.message-section,\r\n.response-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10rpx;\r\n}\r\n\r\n.label {\r\n  font-size: 26rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.message-text,\r\n.response-text {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  line-height: 1.6;\r\n  word-break: break-word;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.response-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10rpx;\r\n}\r\n\r\n.response-text {\r\n  background: #f8f8f8;\r\n  padding: 20rpx;\r\n  border-radius: 12rpx;\r\n  white-space: pre-wrap;\r\n  word-break: break-word;\r\n  line-height: 1.6;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  gap: 20rpx;\r\n  padding: 10rpx 0;\r\n}\r\n\r\n.action-btn {\r\n  color: #007aff;\r\n  font-size: 26rpx;\r\n  cursor: pointer;\r\n}\r\n\r\n.expand-btn {\r\n  color: #007aff;\r\n  font-size: 26rpx;\r\n  cursor: pointer;\r\n}\r\n\r\n.copy-btn {\r\n  color: #007aff;\r\n  font-size: 26rpx;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-delete {\r\n  padding: 8rpx 16rpx;\r\n  background: #ff3b30;\r\n  color: #ffffff;\r\n  border-radius: 8rpx;\r\n  font-size: 24rpx;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.loading,\r\n.empty {\r\n  text-align: center;\r\n  padding: 100rpx 0;\r\n  color: #999;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.pagination {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: #ffffff;\r\n  padding: 20rpx;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: 0 -4rpx 20rpx rgba(0, 0, 0, 0.08);\r\n  z-index: 100;\r\n}\r\n\r\n.page-info {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/Deployment/sparkcanvas/spark-uniapp/pages/history/history.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","http","uni","onMounted"],"mappings":"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"}