{"version":3,"file":"storage.js","sources":["utils/storage.js"],"sourcesContent":["/**\r\n * 本地存储工具\r\n * 封装uni.setStorageSync和uni.getStorageSync\r\n */\r\n\r\nconst storage = {\r\n  // 设置存储\r\n  set(key, value) {\r\n    try {\r\n      uni.setStorageSync(key, value)\r\n      return true\r\n    } catch (e) {\r\n      console.error('存储失败:', e)\r\n      return false\r\n    }\r\n  },\r\n  \r\n  // 获取存储\r\n  get(key, defaultValue = null) {\r\n    try {\r\n      const value = uni.getStorageSync(key)\r\n      return value !== '' ? value : defaultValue\r\n    } catch (e) {\r\n      console.error('读取存储失败:', e)\r\n      return defaultValue\r\n    }\r\n  },\r\n  \r\n  // 删除存储\r\n  remove(key) {\r\n    try {\r\n      uni.removeStorageSync(key)\r\n      return true\r\n    } catch (e) {\r\n      console.error('删除存储失败:', e)\r\n      return false\r\n    }\r\n  },\r\n  \r\n  // 清空所有存储\r\n  clear() {\r\n    try {\r\n      uni.clearStorageSync()\r\n      return true\r\n    } catch (e) {\r\n      console.error('清空存储失败:', e)\r\n      return false\r\n    }\r\n  },\r\n  \r\n  // Token相关\r\n  setToken(token) {\r\n    return this.set('access_token', token)\r\n  },\r\n  \r\n  getToken() {\r\n    return this.get('access_token')\r\n  },\r\n  \r\n  removeToken() {\r\n    return this.remove('access_token')\r\n  },\r\n  \r\n  // 用户信息相关\r\n  setUserInfo(userInfo) {\r\n    return this.set('user_info', userInfo)\r\n  },\r\n  \r\n  getUserInfo() {\r\n    return this.get('user_info')\r\n  },\r\n  \r\n  removeUserInfo() {\r\n    return this.remove('user_info')\r\n  }\r\n}\r\n\r\nexport default storage\r\n\r\n"],"names":["uni"],"mappings":";;AAKK,MAAC,UAAU;AAAA;AAAA,EAEd,IAAI,KAAK,OAAO;AACd,QAAI;AACFA,0BAAI,eAAe,KAAK,KAAK;AAC7B,aAAO;AAAA,IACR,SAAQ,GAAG;AACVA,oBAAAA,+CAAc,SAAS,CAAC;AACxB,aAAO;AAAA,IACR;AAAA,EACF;AAAA;AAAA,EAGD,IAAI,KAAK,eAAe,MAAM;AAC5B,QAAI;AACF,YAAM,QAAQA,cAAAA,MAAI,eAAe,GAAG;AACpC,aAAO,UAAU,KAAK,QAAQ;AAAA,IAC/B,SAAQ,GAAG;AACVA,oBAAAA,MAAA,MAAA,SAAA,0BAAc,WAAW,CAAC;AAC1B,aAAO;AAAA,IACR;AAAA,EACF;AAAA;AAAA,EAGD,OAAO,KAAK;AACV,QAAI;AACFA,oBAAG,MAAC,kBAAkB,GAAG;AACzB,aAAO;AAAA,IACR,SAAQ,GAAG;AACVA,oBAAAA,MAAA,MAAA,SAAA,0BAAc,WAAW,CAAC;AAC1B,aAAO;AAAA,IACR;AAAA,EACF;AAAA;AAAA,EAGD,QAAQ;AACN,QAAI;AACFA,oBAAAA,MAAI,iBAAkB;AACtB,aAAO;AAAA,IACR,SAAQ,GAAG;AACVA,oBAAAA,MAAA,MAAA,SAAA,0BAAc,WAAW,CAAC;AAC1B,aAAO;AAAA,IACR;AAAA,EACF;AAAA;AAAA,EAGD,SAAS,OAAO;AACd,WAAO,KAAK,IAAI,gBAAgB,KAAK;AAAA,EACtC;AAAA,EAED,WAAW;AACT,WAAO,KAAK,IAAI,cAAc;AAAA,EAC/B;AAAA,EAED,cAAc;AACZ,WAAO,KAAK,OAAO,cAAc;AAAA,EAClC;AAAA;AAAA,EAGD,YAAY,UAAU;AACpB,WAAO,KAAK,IAAI,aAAa,QAAQ;AAAA,EACtC;AAAA,EAED,cAAc;AACZ,WAAO,KAAK,IAAI,WAAW;AAAA,EAC5B;AAAA,EAED,iBAAiB;AACf,WAAO,KAAK,OAAO,WAAW;AAAA,EAC/B;AACH;;"}